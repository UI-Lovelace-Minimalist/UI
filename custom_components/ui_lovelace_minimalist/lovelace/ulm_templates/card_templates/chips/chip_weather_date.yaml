---
chip_weather_date:
  template: "chips"
  entity: "[[[ return variables.ulm_weather]]]"
  variables:
    ulm_language: >
      [[[
        return hass["language"];
      ]]]
  triggers_update: "all"
  tap_action:
    action: "more-info"
  label: |
    [[[
      const event = new Date();
      const options = {month: 'short', day: 'numeric' };
      var locale = variables.ulm_language;
      let formatted_date = event.toLocaleDateString(locale, options);
      var state = states[variables.ulm_weather].state;
      var icon = {
        "clear-night": "ğŸŒ™",
        "cloudy": "â˜ï¸",
        "exceptional": "ğŸŒ",
        "fog": "ğŸŒ«ï¸",
        "hail": "â›ˆï¸",
        "lightning": "âš¡",
        "lightning-rainy": "â›ˆï¸",
        "partlycloudy": "â›…",
        "pouring": "ğŸŒ§ï¸",
        "rainy": "ğŸ’§",
        "snowy": "â„ï¸",
        "snowy-rainy": "ğŸŒ¨ï¸",
        "sunny": "â˜€ï¸",
        "windy": "ğŸŒªï¸",
        "default": "ğŸŒ¡ï¸"
        }
      return (icon[state] || icon["default"]) + ' ' + formatted_date
    ]]]
