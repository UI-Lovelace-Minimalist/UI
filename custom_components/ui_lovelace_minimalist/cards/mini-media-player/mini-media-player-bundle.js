(function(){"use strict";function a(){var b=$a(["<span class=",">","</span>"]);return a=function(){return b},b}function b(){var a=$a(["<span class=",">","</span>"]);return b=function(){return a},a}function c(){var a=$a(["\n          <div>\n            <div class='marquee'>\n              ","\n            </div>\n          </div>"]);return c=function(){return a},a}function d(){var a=$a(["\n      <div class='entity__info__media'\n        ?short=","\n        ?short-scroll=","\n        ?scroll=","\n        style='animation-duration: ","s;'>\n        ","\n        ","\n      </div>"]);return d=function(){return a},a}function e(){var a=$a(["\n      <div class='entity__info__name'>\n        "," ","\n      </div>"]);return e=function(){return a},a}function f(){var a=$a(["\n      <div class='entity__icon' ?color=",">\n        <ha-icon .icon=","></ha-icon>\n      </div>"]);return f=function(){return a},a}function g(){var a=$a(["\n        <div class='entity__artwork'\n          style='background-image: ",";'\n          ?border=","\n          state=",">\n        </div>"]);return g=function(){return a},a}function h(){var a=$a(["\n      <div class=\"cover --bg\" style=","></div>\n    "]);return h=function(){return a},a}function i(){var a=$a(["<div class=\"cover-gradient\" style=","></div>"]);return i=function(){return a},a}function j(){var a=$a(["\n        <div class='cover --prev' style=","></div>\n      "]);return j=function(){return a},a}function k(){var a=$a(["\n      <div class='cover' style=","></div>\n      ",""]);return k=function(){return a},a}function l(){var a=$a(["\n            <mmp-progress\n              .player=","\n              .showTime=","\n              .showRemainingTime=",">\n            </mmp-progress>\n          "]);return l=function(){return a},a}function m(){var a=$a(["\n              <mmp-tts\n                .config=","\n                .hass=","\n                .player=",">\n              </mmp-tts>\n            "]);return m=function(){return a},a}function n(){var a=$a(["\n              <mmp-media-controls\n                .player=","\n                .config=","\n                .break=",">\n              </mmp-media-controls>\n            "]);return n=function(){return a},a}function o(){var a=$a(["\n      <ha-card\n        class=","\n        style=","\n        @click=","\n        artwork=","\n        content=",">\n        <div class='mmp__bg'>\n          ","\n          ","\n          ","\n        </div>\n        <div class='mmp-player'>\n          <div class='mmp-player__core flex' ?inactive=",">\n            ","\n            <div class='entity__info'>\n              ","\n              ","\n            </div>\n            <mmp-powerstrip\n              @toggleGroupList=","\n              .hass=","\n              .player=","\n              .config=","\n              .groupVisible=","\n              .idle=","\n              ?flow=",">\n            </mmp-powerstrip>\n          </div>\n          <div class='mmp-player__adds'>\n            ","\n            <mmp-shortcuts\n              .player=","\n              .shortcuts=",">\n            </mmp-shortcuts>\n            ","\n            <mmp-group-list\n              .hass=","\n              .visible=","\n              .entities=","\n              .player=",">>\n            </mmp-group-list>\n          </div>\n        </div>\n        <div class='mmp__container'>\n          ","\n        </div>\n      </ha-card>\n    "]);return o=function(){return a},a}function p(){var a=$a([""]);return p=function(){return a},a}function q(){var a=$a([" <paper-item>","</paper-item> "]);return q=function(){return a},a}function r(){var a=$a([" <paper-item>","</paper-item> "]);return r=function(){return a},a}function s(){var a=$a([" <paper-item>","</paper-item> "]);return s=function(){return a},a}function u(){var a=$a([" <paper-item>","</paper-item> "]);return u=function(){return a},a}function v(){var a=$a([" <paper-item>","</paper-item> "]);return v=function(){return a},a}function w(){var a=$a(["<paper-item>","</paper-item>"]);return w=function(){return a},a}function x(){var a=$a(["\n      <div class='card-config'>\n        <div class='overall-config'>\n  \n          <paper-dropdown-menu\n            label=\"Entity (required)\"\n            .configValue=\"","\"\n            @value-changed=","\n            >\n            <paper-listbox\n              slot=\"dropdown-content\" \n              .selected=\"","\"\n            >\n              ","\n            </paper-listbox>\n          </paper-dropdown-menu>\n\n          <div class=\"side-by-side\">\n            <paper-input\n              label=\"Name\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n\n            <paper-input\n              label=\"Icon\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n          </div>\n\n          <div class=\"side-by-side\">\n            <ha-formfield label=\"Group cards\">\n              <ha-switch\n                .checked=","\n                .configValue=\"","\"\n                @change=","\n              ></ha-switch>\n            </ha-formfield>\n\n            <ha-formfield label=\"Swap volume slider for buttons\">\n              <ha-switch\n                .checked=\"","\"\n                .configValue=\"","\"\n                @change=","\n              ></ha-switch>\n            </ha-formfield>\n\n            <ha-formfield label=\"Toggle power button behavior\">\n              <ha-switch\n                .checked=\"","\"\n                .configValue=\"","\"\n                @change=","\n              ></ha-switch>\n            </ha-formfield>\n          </div>\n          \n          <div class=\"side-by-side\">\n            <paper-dropdown-menu\n              label=\"Artwork\"\n              .configValue=","\n              @value-changed=","\n              class=\"dropdown\"\n              >\n              <paper-listbox\n                slot=\"dropdown-content\"\n                .selected=","\n              >\n                ","\n              </paper-listbox>\n            </paper-dropdown-menu>\n\n            <paper-dropdown-menu\n              label=\"Source\"\n              .configValue=","\n              @value-changed=","\n              class=\"dropdown\"\n              >\n              <paper-listbox\n                slot=\"dropdown-content\"\n                .selected=","\n              >\n                ","\n              </paper-listbox>\n            </paper-dropdown-menu>\n\n            <paper-dropdown-menu\n              label=\"Sound Mode\"\n              .configValue=","\n              @value-changed=","\n              class=\"dropdown\"\n              >\n              <paper-listbox\n                slot=\"dropdown-content\"\n                .selected=","\n              >\n                ","\n              </paper-listbox>\n            </paper-dropdown-menu>\n          </div>\n\n          <div class=\"side-by-side\">\n            <paper-dropdown-menu\n              label=\"Info\"\n              .configValue=","\n              @value-changed=","\n              class=\"dropdown\"\n              >\n              <paper-listbox\n                slot=\"dropdown-content\"\n                .selected=","\n              >\n                ","\n              </paper-listbox>\n            </paper-dropdown-menu>\n\n            <paper-dropdown-menu\n              label=\"Replace Mute\"\n              .configValue=","\n              @value-changed=","\n              class=\"dropdown\"\n              >\n              <paper-listbox\n                slot=\"dropdown-content\"\n                .selected=","\n              >\n                ","\n              </paper-listbox>\n            </paper-dropdown-menu>\n          </div>\n\n          <div class=\"side-by-side\">\n            <paper-input\n              label=\"Volume Step (1-100)\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n\n            <paper-input\n              label=\"Max Volume (1-100)\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n\n            <paper-input\n              label=\"Min Volume (1-100)\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n          </div>\n\n          <div class=\"side-by-side\">\n\n            <paper-input\n              label=\"Background\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n\n            <paper-input\n              label=\"Scale\"\n              .value=\"","\"\n              .configValue=\"","\"\n              @value-changed=","\n            ></paper-input>\n          </div>\n\n          <div>\n            Settings for Tap actions, TTS, hiding UI elements, idle view, speaker groups and shortcuts can only be configured in the code editor\n          </div>\n\n        </div>\n      </div>\n    "]);return x=function(){return a},a}function y(){var a=$a(["\n        :host {\n          display: flex;\n          line-height: var(--mmp-unit);\n          max-height: var(--mmp-unit);\n        }\n        :host([flow]) mmp-media-controls {\n          max-width: unset;\n        }\n        mmp-media-controls {\n          max-width: calc(var(--mmp-unit) * 5);\n          line-height: initial;\n          justify-content: flex-end;\n        }\n        .group-button {\n          --mdc-icon-size: calc(var(--mmp-unit) * 0.5);\n        }\n        ha-icon-button {\n          min-width: var(--mmp-unit);\n        }\n      "]);return y=function(){return a},a}function z(){var a=$a([""]);return z=function(){return a},a}function A(){var a=$a(["\n        <span class='label ellipsis'>\n          ","\n        </span>\n      "]);return A=function(){return a},a}function B(){var a=$a(["\n        <ha-icon-button\n          .icon=","\n          @click=",">\n          <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>"]);return B=function(){return a},a}function C(){var a=$a(["\n        <ha-icon-button class='power-button'\n          .icon=","\n          @click=","\n          ?color=",">\n          <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>"]);return C=function(){return a},a}function E(){var a=$a(["\n        <ha-icon-button class='group-button'\n          .icon=","\n          ?inactive=","\n          ?color=","\n          @click=",">\n          <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>"]);return E=function(){return a},a}function F(){var a=$a(["\n        <mmp-sound-menu\n          .player=","\n          .icon=","\n          ?full=",">\n        </mmp-sound-menu>"]);return F=function(){return a},a}function G(){var a=$a(["\n        <mmp-source-menu\n          .player=","\n          .icon=","\n          ?full=",">\n        </mmp-source-menu>"]);return G=function(){return a},a}function H(){var a=$a(["\n        <mmp-media-controls\n          .player=","\n          .config=",">\n        </mmp-media-controls>\n      "]);return H=function(){return a},a}function I(){var a=$a(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "]);return I=function(){return a},a}function J(){var a=$a(["\n        <span class='label ellipsis'>\n          ","\n        </span>\n      "]);return J=function(){return a},a}function K(){var a=$a(["\n        :host {\n          display: flex;\n          width: 100%;\n          justify-content: space-between;\n        }\n        .flex {\n          display: flex;\n          flex: 1;\n          justify-content: space-between;\n        }\n        ha-slider {\n          max-width: none;\n          min-width: 100px;\n          width: 100%;\n          --paper-slider-active-color: var(--mmp-accent-color);\n          --paper-slider-knob-color: var(--mmp-accent-color);\n        }\n        ha-icon-button {\n          min-width: var(--mmp-unit);\n        }\n        .mmp-media-controls__volume {\n          flex: 100;\n          max-height: var(--mmp-unit);\n          align-items: center;\n        }\n        .mmp-media-controls__volume.--buttons {\n          justify-content: left;\n        }\n        .mmp-media-controls__media {\n          margin-right: 0;\n          margin-left: auto;\n          justify-content: inherit;\n        }\n        .mmp-media-controls__media[flow] {\n          max-width: none;\n          justify-content: space-between;\n        }\n        .mmp-media-controls__shuffle,\n        .mmp-media-controls__repeat {\n          flex: 3;\n          flex-shrink: 200;\n          justify-content: center;\n          --mdc-icon-size: 20px;\n        }\n      "]);return K=function(){return a},a}function L(){var a=$a(["\n      <ha-icon-button\n        @click=","\n        .icon=",">\n        <ha-icon .icon=","></ha-icon>\n      </ha-icon-button>\n    "]);return L=function(){return a},a}function M(){var a=$a([""]);return M=function(){return a},a}function N(){var a=$a(["\n      <ha-icon-button\n        @click=","\n        .icon=",">\n        <ha-icon .icon=","></ha-icon>\n      </ha-icon-button>\n    "]);return N=function(){return a},a}function O(){var a=$a([""]);return O=function(){return a},a}function P(){var a=$a(["\n        <ha-icon-button\n          @click=","\n          .icon=",">\n            <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>\n      "]);return P=function(){return a},a}function Q(){var a=$a([""]);return Q=function(){return a},a}function R(){var a=$a(["\n        <ha-icon-button\n          @click=","\n          .icon=",">\n            <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>\n      "]);return R=function(){return a},a}function S(){var a=$a([""]);return S=function(){return a},a}function T(){var a=$a(["\n      ","\n      ","\n    "]);return T=function(){return a},a}function U(){var a=$a(["\n          <ha-icon-button\n            @click=","\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return U=function(){return a},a}function V(){var a=$a(["\n          <ha-icon-button\n            @click=","\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return V=function(){return a},a}function W(){var a=$a(["\n          <ha-icon-button\n            @click=","\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return W=function(){return a},a}function X(){var a=$a(["\n          <ha-icon-button\n            @click=","\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return X=function(){return a},a}function Y(){var a=$a(["\n          <ha-icon-button\n            @click=","\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return Y=function(){return a},a}function Z(){var a=$a(["\n      <span class=\"mmp-media-controls__volume__level\">","%</span>\n    "]);return Z=function(){return a},a}function $(){var a=$a(["\n      ","\n      <ha-icon-button\n        @click=","\n        .icon=",">\n          <ha-icon .icon=","></ha-icon>\n      </ha-icon-button>\n      <ha-icon-button\n        @click=","\n        .icon=",">\n          <ha-icon .icon=","></ha-icon>\n      </ha-icon-button>\n    "]);return $=function(){return a},a}function _(){var a=$a(["\n      ","\n      <ha-slider\n        @change=","\n        @click=","\n        ?disabled=","\n        min="," max=","\n        value=","\n        step=","\n        dir=","\n        ignore-bar-touch pin>\n      </ha-slider>\n    "]);return _=function(){return a},a}function aa(){var a=$a(["\n      <div class=",">\n        ","\n        ","\n      </div>"]);return aa=function(){return a},a}function ba(){var a=$a(["\n      <div class='flex mmp-media-controls__repeat'>\n        <ha-icon-button\n          class='repeat-button'\n          @click=","\n          .icon=","\n          ?color=",">\n          <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>\n      </div>\n    "]);return ba=function(){return a},a}function ca(){var a=$a([""]);return ca=function(){return a},a}function da(){var a=$a([""]);return da=function(){return a},a}function ea(){var a=$a(["\n      <div class='flex mmp-media-controls__shuffle'>\n        <ha-icon-button\n          class='shuffle-button'\n          @click=","\n          .icon=","\n          ?color=",">\n          <ha-icon .icon=","></ha-icon>\n        </ha-icon-button>\n      </div>\n    "]);return ea=function(){return a},a}function fa(){var a=$a(["\n            <ha-icon-button\n              @click=","\n              .icon=",">\n             <ha-icon .icon=","></ha-icon>\n            </ha-icon-button>"]);return fa=function(){return a},a}function ga(){var a=$a(["\n            <ha-icon-button\n              @click=","\n              .icon=",">\n             <ha-icon .icon=","></ha-icon>\n            </ha-icon-button>"]);return ga=function(){return a},a}function ha(){var a=$a(["\n        <div class='flex mmp-media-controls__media' ?flow=",">\n          ","\n          ","\n          ","\n          ","\n          ","\n        </div>\n      "]);return ha=function(){return a},a}function ia(){var a=$a([""]);return ia=function(){return a},a}function ja(){var a=$a([""]);return ja=function(){return a},a}function ka(){var a=$a(["\n      ","\n      ","\n      ","\n      ","\n    "]);return ka=function(){return a},a}function la(){var a=$a(["\n      :host {\n        max-width: 120px;\n        min-width: var(--mmp-unit);\n      }\n      :host([full]) {\n        max-width: none;\n      }\n    "]);return la=function(){return a},a}function ma(){var a=$a(["\n      <mmp-dropdown\n        @change=","\n        .items=","\n        .label=","\n        .selected=","\n        .icon=","\n      ></mmp-dropdown>\n    "]);return ma=function(){return a},a}function na(){var a=$a(["\n      :host {\n        max-width: 120px;\n        min-width: var(--mmp-unit);\n      }\n      :host([full]) {\n        max-width: none;\n      }\n    "]);return na=function(){return a},a}function oa(){var a=$a(["\n      <mmp-dropdown\n        @change=","\n        .items=","\n        .label=","\n        .selected=","\n        .icon=","\n      ></mmp-dropdown>\n    "]);return oa=function(){return a},a}function pa(){var a=$a(["\n      .mmp-progress {\n        cursor: pointer;\n        left: 0; right: 0; bottom: 0;\n        position: absolute;\n        pointer-events: auto;\n        min-height: calc(var(--mmp-progress-height) + 10px);\n      }\n      .mmp-progress__duration {\n        left: calc(var(--ha-card-border-radius, 4px) / 2);\n        right: calc(var(--ha-card-border-radius, 4px) / 2);\n        bottom: calc(var(--mmp-progress-height) + 6px);\n        position: absolute;\n        display: flex;\n        justify-content: space-between;\n        font-size: .8em;\n        padding: 0 6px;\n        z-index: 2\n      }\n      .mmp-progress__duration__remaining {\n        opacity: .5;\n      }\n      paper-progress {\n        height: var(--mmp-progress-height);\n        --paper-progress-height: var(--mmp-progress-height);\n        bottom: 0;\n        position: absolute;\n        width: 100%;\n        transition: height 0;\n        z-index: 1;\n        --paper-progress-active-color: var(--mmp-accent-color);\n        --paper-progress-container-color: rgba(100,100,100,.15);\n        --paper-progress-transition-duration: 1s;\n        --paper-progress-transition-timing-function: linear;\n        --paper-progress-transition-delay: 0s;\n      }\n      paper-progress.seeking {\n        transition: height .15s ease-out;\n        height: calc(var(--mmp-progress-height) + 4px);\n        --paper-progress-height: calc(var(--mmp-progress-height) + 4px);\n      }\n      .mmp-progress[paused] paper-progress {\n        --paper-progress-active-color: var(--disabled-text-color, rgba(150,150,150,.5));\n      }\n    "]);return pa=function(){return a},a}function qa(){var a=$a(["\n                <span class='mmp-progress__duration__remaining'>\n                  -"," |\n                </span>\n              "]);return qa=function(){return a},a}function ra(){var a=$a(["\n          <div class='mmp-progress__duration'>\n            <span>","</span>\n            <div>\n              ","\n              <span>","</span>\n            </div>\n          </div>\n        "]);return ra=function(){return a},a}function sa(){var a=$a(["\n      <div class='mmp-progress'\n        @touchstart=","\n        @touchend=","\n        @mousedown=","\n        @mouseup=","\n        @mouseleave=","\n        @click=","\n        ?paused=",">\n        ","\n        <paper-progress class=","\n          value=","\n          max=",">\n        </paper-progress>\n      </div>\n    "]);return sa=function(){return a},a}function ta(){var a=$a(["\n      :host {\n        align-items: center;\n        margin-left: 8px;\n        display: flex;\n      }\n      .mmp-tts__input {\n        cursor: text;\n        flex: 1;\n        margin-right: 8px;\n        --paper-input-container-input: {\n          font-size: 1em;\n        };\n      }\n      ha-card[rtl] .mmp-tts__input {\n        margin-right: auto;\n        margin-left: 8px;\n      }\n      .mmp-tts__button {\n        margin: 0;\n        height: 30px;\n        padding: 0 .4em;\n      }\n      paper-input {\n        opacity: .75;\n        --paper-input-container-color: var(--mmp-text-color);\n        --paper-input-container-input-color: var(--mmp-text-color);\n        --paper-input-container-focus-color: var(--mmp-text-color);\n        --paper-input-container: {\n          padding: 0;\n        };\n      }\n      paper-input[focused] {\n        opacity: 1;\n      }\n\n      ha-card[artwork*='cover'][has-artwork] paper-input {\n        --paper-input-container-color: #FFFFFF;\n        --paper-input-container-input-color: #FFFFFF;\n        --paper-input-container-focus-color: #FFFFFF;\n      }\n    "]);return ta=function(){return a},a}function ua(){var a=$a(["\n      <paper-input\n        id=\"tts-input\"\n        class=\"mmp-tts__input\"\n        no-label-float\n        placeholder=\"","...\"\n        @click=","\n      >\n      </paper-input>\n      <mmp-button class=\"mmp-tts__button\" @click=",">\n        <span>","</span>\n      </mmp-button>\n    "]);return ua=function(){return a},a}function va(){var a=$a(["\n        .mmp-shortcuts__buttons {\n          box-sizing: border-box;\n          display: flex;\n          flex-wrap: wrap;\n          margin-top: 8px;\n        }\n        .mmp-shortcuts__button {\n          min-width: calc(50% - 8px);\n          flex: 1;\n          background-size: cover;\n          background-repeat: no-repeat;\n          background-position: center center;\n        }\n        .mmp-shortcuts__button > div {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 100%;\n          padding: .2em 0;\n        }\n        .mmp-shortcuts__button > div[align='left'] {\n          justify-content: flex-start;\n        }\n        .mmp-shortcuts__button > div[align='right'] {\n          justify-content: flex-end;\n        }\n        .mmp-shortcuts__button[columns='1'] {\n          min-width: calc(100% - 8px);\n        }\n        .mmp-shortcuts__button[columns='3'] {\n          min-width: calc(33.33% - 8px);\n        }\n        .mmp-shortcuts__button[columns='4'] {\n          min-width: calc(25% - 8px);\n        }\n        .mmp-shortcuts__button[columns='5'] {\n          min-width: calc(20% - 8px);\n        }\n        .mmp-shortcuts__button[columns='6'] {\n          min-width: calc(16.66% - 8px);\n        }\n        .mmp-shortcuts__button > div > span {\n          line-height: calc(var(--mmp-unit) * .6);\n          text-transform: initial;\n        }\n        .mmp-shortcuts__button > div > ha-icon {\n          width: calc(var(--mmp-unit) * .6);\n          height: calc(var(--mmp-unit) * .6);\n        }\n        .mmp-shortcuts__button > div > *:nth-child(2) {\n          margin-left: 4px;\n        }\n        .mmp-shortcuts__button > div > img {\n          height: 24px;\n        }\n      "]);return va=function(){return a},a}function wa(){var a=$a(["\n      ","\n      ","\n    "]);return wa=function(){return a},a}function xa(){var a=$a(["<span class=\"ellipsis\">","</span>"]);return xa=function(){return a},a}function ya(){var a=$a(["<img src=",">"]);return ya=function(){return a},a}function za(){var a=$a(["<ha-icon .icon=","></ha-icon>"]);return za=function(){return a},a}function Aa(){var a=$a(["\n          <mmp-button\n            style=\"","\"\n            raised\n            columns=","\n            ?color=","\n            class='mmp-shortcuts__button'\n            @click=",">\n            <div align=",">\n              ","\n              ","\n              ","\n            </div>\n          </mmp-button>"]);return Aa=function(){return a},a}function Ba(){var a=$a(["\n      <div class='mmp-shortcuts__buttons'>\n        ","\n      </div>\n    "]);return Ba=function(){return a},a}function Ca(){var a=$a(["\n      <mmp-dropdown class='mmp-shortcuts__dropdown'\n        @change=","\n        .items=","\n        .label=","\n        .selected=",">\n      </mmp-dropdown>\n    "]);return Ca=function(){return a},a}function Da(){var a=$a([""]);return Da=function(){return a},a}function Ea(){var a=$a(["\n        :host {\n          display: block;\n        }\n        :host([faded]) {\n          opacity: .75;\n        }\n        :host[small] .mmp-dropdown__label {\n          max-width: 60px;\n          display: block;\n          position: relative;\n          width: auto;\n          text-transform: initial;\n        }\n        :host[full] .mmp-dropdown__label {\n          max-width: none;\n        }\n        .mmp-dropdown {\n          padding: 0;\n          display: block;\n        }\n        .mmp-dropdown__button {\n          display: flex;\n          font-size: 1em;\n          justify-content: space-between;\n          align-items: center;\n          height: calc(var(--mmp-unit) - 4px);\n          margin: 2px 0;\n        }\n        .mmp-dropdown__button.icon {\n          height: var(--mmp-unit);\n          margin: 0;\n        }\n        .mmp-dropdown__button > div {\n          display: flex;\n          flex: 1;\n          justify-content: space-between;\n          align-items: center;\n          height: calc(var(--mmp-unit) - 4px);\n          max-width: 100%;\n        }\n        .mmp-dropdown__label {\n          text-align: left;\n          text-transform: none;\n        }\n        .mmp-dropdown__icon {\n          height: auto;\n          width: calc(var(--mmp-unit) * .6);\n          min-width: calc(var(--mmp-unit) * .6);\n        }\n        paper-item > *:nth-child(2) {\n          margin-left: 4px;\n        }\n        paper-menu-button[focused] mmp-button ha-icon {\n          color: var(--mmp-accent-color);\n          transform: rotate(180deg);\n        }\n        paper-menu-button[focused] ha-icon-button {\n          color: var(--mmp-accent-color);\n          transform: rotate(180deg);\n        }\n        paper-menu-button[focused] ha-icon-button[focused] {\n          color: var(--mmp-text-color);\n          transform: rotate(0deg);\n        }\n      "]);return Ea=function(){return a},a}function Fa(){var a=$a(["<span class='mmp-dropdown__item__label'>","</span>"]);return Fa=function(){return a},a}function Ga(){var a=$a(["<ha-icon .icon=","></ha-icon>"]);return Ga=function(){return a},a}function Ha(){var a=$a(["\n            <paper-item value=",">\n              ","\n              ","\n            </paper-item>"]);return Ha=function(){return a},a}function Ia(){var a=$a(["\n          <mmp-button class='mmp-dropdown__button' slot='dropdown-trigger'>\n            <div>\n              <span class='mmp-dropdown__label ellipsis'>\n                ","\n              </span>\n              <ha-icon class='mmp-dropdown__icon' .icon=","></ha-icon>\n            </div>\n          </mmp-button>\n        "]);return Ia=function(){return a},a}function Ja(){var a=$a(["\n          <ha-icon-button\n            class='mmp-dropdown__button icon'\n            slot='dropdown-trigger'\n            .icon=",">\n            <ha-icon .icon=","></ha-icon>\n          </ha-icon-button>\n        "]);return Ja=function(){return a},a}function Ka(){var a=$a(["\n      <paper-menu-button\n        class='mmp-dropdown'\n        noink no-animations\n        .horizontalAlign=","\n        .verticalAlign=","\n        .verticalOffset=","\n        @click=",">\n        ","\n        <paper-listbox slot=\"dropdown-content\" .selected="," @iron-select=",">\n          ","\n        </paper-listbox>\n      </paper-menu-button>\n    "]);return Ka=function(){return a},a}function La(){var a=$a(["\n      .mmp-group-list {\n        display: flex;\n        flex-direction: column;\n        margin-left: 8px;\n        margin-bottom: 8px;\n      }\n      .mmp-group-list__title {\n        font-weight: 500;\n        letter-spacing: .1em;\n        margin: 8px 0 4px;\n        text-transform: uppercase;\n      }\n      .mmp-group-list__buttons {\n        display: flex;\n      }\n      mmp-button {\n        margin: 8px 8px 0 0;\n        min-width: 0;\n        text-transform: uppercase;\n        text-align: center;\n        width: 50%;\n        --mdc-theme-primary: transparent;\n      }\n    "]);return La=function(){return a},a}function Ma(){var a=$a(["\n      <mmp-group-item\n        @change=","\n        .item=","\n        .hass=","\n        .checked=","\n        .disabled=","\n        .master=","\n      />"]);return Ma=function(){return a},a}function Na(){var a=$a([""]);return Na=function(){return a},a}function Oa(){var a=$a(["\n            <mmp-button raised\n              @click=",">\n              <span>","</span>\n            </mmp-button>\n          "]);return Oa=function(){return a},a}function Pa(){var a=$a(["\n      <div class='mmp-group-list'>\n        <span class='mmp-group-list__title'>","</span>\n        ","\n        <div class='mmp-group-list__buttons'>\n          <mmp-button raised ?disabled=","\n            @click=",">\n            <span>","</span>\n          </mmp-button>\n          ","\n          <mmp-button raised ?disabled=","\n            @click=",">\n            <span>","</span>\n          </mmp-button>\n        </div>\n      </div>\n    "]);return Pa=function(){return a},a}function Qa(){var a=$a([""]);return Qa=function(){return a},a}function Ra(){var a=$a(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 4px;\n        min-width: 0;\n        overflow: hidden;\n        transition: background .5s;\n        border-radius: 4px;\n        font-weight: 500;\n      }\n      :host([raised]) {\n        background: var(--mmp-button-color);\n        min-height: calc(var(--mmp-unit) * .8);\n        box-shadow:\n          0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n          0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n          0px 1px 5px 0px rgba(0,0,0,.12);\n      }\n      :host([color]) {\n        background: var(--mmp-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([faded]) {\n        opacity: .75;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n      .container {\n        height: 100%;\n        width: 100%;\n      }\n      .slot-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin: 0 8px;\n        width: auto;\n      }\n      paper-ripple {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      }\n    "]);return Ra=function(){return a},a}function Sa(){var a=$a(["\n      <div class=\"container\">\n        <div class=\"slot-container\">\n          <slot></slot>\n        </div>\n        <paper-ripple></paper-ripple>\n      </div>\n    "]);return Sa=function(){return a},a}function Ta(){var a=$a(["\n      .master {\n        font-weight: 500;\n      }\n    "]);return Ta=function(){return a},a}function Ua(){var a=$a(["<span class=\"master\">(",")</span>"]);return Ua=function(){return a},a}function Va(){var a=$a(["\n      <mmp-checkbox\n        .checked=","\n        .disabled=","\n        @change='","'\n        @click='","'>\n          ","\n          ","\n      </mmp-checkbox>\n    "]);return Va=function(){return a},a}function Wa(){var a=$a(["\n      :host {\n        display: flex;\n        padding: .6em 0;\n        align-items: center;\n      }\n      span {\n        margin-left: 1em;\n        font-weight: 400;\n      }\n      span[disabled] {\n        opacity: .65;\n      }\n    "]);return Wa=function(){return a},a}function Xa(){var a=$a(["\n      <ha-switch \n        .checked=","\n        ?disabled=",">\n      </ha-switch>\n      <span ?disabled=",">\n        <slot>\n          ","\n        </slot>\n      </span>\n    "]);return Xa=function(){return a},a}function Ya(){var a=$a(["\n  .ellipsis {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .label {\n    margin: 0 8px;\n  }\n  ha-icon {\n    width: calc(var(--mmp-unit) * .6);\n    height: calc(var(--mmp-unit) * .6);\n  }\n  ha-icon-button {\n    width: var(--mmp-unit);\n    height: var(--mmp-unit);\n    color: var(--mmp-text-color, var(--primary-text-color));\n    transition: color .25s;\n  }\n  ha-icon-button[color] {\n    color: var(--mmp-accent-color, var(--accent-color)) !important;\n    opacity: 1 !important;\n  }\n  ha-icon-button[inactive] {\n    opacity: .5;\n  }\n  ha-icon-button ha-icon {\n    display: flex;\n  }\n"]);return Ya=function(){return a},a}function Za(){var a=$a(["\n  :host {\n    overflow: visible !important;\n    display: block;\n    --mmp-scale: var(--mini-media-player-scale, 1);\n    --mmp-unit: calc(var(--mmp-scale) * 40px);\n    --mmp-name-font-weight: var(--mini-media-player-name-font-weight, 400);\n    --mmp-accent-color: var(--mini-media-player-accent-color, var(--accent-color, #f39c12));\n    --mmp-base-color: var(--mini-media-player-base-color, var(--primary-text-color, #000));\n    --mmp-overlay-color: var(--mini-media-player-overlay-color, rgba(0,0,0,0.5));\n    --mmp-overlay-color-stop: var(--mini-media-player-overlay-color-stop, 25%);\n    --mmp-overlay-base-color: var(--mini-media-player-overlay-base-color, #fff);\n    --mmp-overlay-accent-color: var(--mini-media-player-overlay-accent-color, --mmp-accent-color);\n    --mmp-text-color: var(--mini-media-player-base-color, var(--primary-text-color, #000));\n    --mmp-media-cover-info-color: var(--mini-media-player-media-cover-info-color, --mmp-text-color);\n    --mmp-text-color-inverted: var(--disabled-text-color);\n    --mmp-active-color: var(--mmp-accent-color);\n    --mmp-button-color: var(--mini-media-player-button-color, rgba(255,255,255,0.25));\n    --mmp-icon-color:\n      var(--mini-media-player-icon-color,\n        var(--mini-media-player-base-color,\n          var(--paper-item-icon-color, #44739e)));\n    --mmp-icon-active-color: var(--paper-item-icon-active-color, --mmp-active-color);\n    --mmp-info-opacity: 0.75;\n    --mmp-bg-opacity: var(--mini-media-player-background-opacity, 1);\n    --mmp-artwork-opacity: var(--mini-media-player-artwork-opacity, 1);\n    --mmp-progress-height: var(--mini-media-player-progress-height, 6px);\n    --mdc-theme-primary: var(--mmp-text-color);\n    --mdc-theme-on-primary: var(--mmp-text-color);\n    --paper-checkbox-unchecked-color: var(--mmp-text-color);\n    --paper-checkbox-label-color: var(--mmp-text-color);\n    color: var(--mmp-text-color);\n  }\n  ha-card.--bg {\n    --mmp-info-opacity: .75;\n  }\n  ha-card.--has-artwork[artwork='material'],\n  ha-card.--has-artwork[artwork*='cover'] {\n    --mmp-accent-color: var(--mini-media-player-overlay-accent-color, var(--mini-media-player-accent-color, var(--accent-color, #f39c12)));\n    --mmp-text-color: var(--mmp-overlay-base-color);\n    --mmp-text-color-inverted: #000;\n    --mmp-active-color: rgba(255,255,255,.5);\n    --mmp-icon-color: var(--mmp-text-color);\n    --mmp-icon-active-color: var(--mmp-text-color);\n    --mmp-info-opacity: 0.75;\n    --paper-slider-container-color: var(--mini-media-player-overlay-color, rgba(255,255,255,.75)) !important;\n    --mdc-theme-primary: var(--mmp-text-color);\n    --mdc-theme-on-primary: var(--mmp-text-color);\n    --paper-checkbox-unchecked-color: var(--mmp-text-color);\n    --paper-checkbox-label-color: var(--mmp-text-color);\n    --switch-checked-color: var(--mmp-accent-color);\n    --switch-checked-button-color: var(--mmp-accent-color);\n    --switch-checked-track-color: var(--mmp-accent-color);\n    --switch-unchecked-color: var(--mmp-text-color);\n    --switch-unchecked-button-color: var(--mmp-text-color);\n    --switch-unchecked-track-color: var(--mmp-text-color);\n    color: var(--mmp-text-color);\n  }\n  ha-card {\n    cursor: default;\n    display: flex;\n    background: transparent;\n    overflow: visible;\n    padding: 0;\n    position: relative;\n    color: inherit;\n    font-size: calc(var(--mmp-unit) * 0.35);\n    --mdc-icon-button-size: calc(var(--mmp-unit));\n    --mdc-icon-size: calc(var(--mmp-unit) * 0.6);\n  }\n  ha-card.--group {\n    box-shadow: none;\n    --mmp-progress-height: var(--mini-media-player-progress-height, 4px);\n  }\n  ha-card.--more-info {\n    cursor: pointer;\n  }\n  .mmp__bg, .mmp-player, .mmp__container {\n    border-radius: var(--ha-card-border-radius, 0);\n  }\n  .mmp__container {\n    overflow: hidden;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    pointer-events: none;\n    -webkit-transform: translateZ(0);\n    transform: translateZ(0);\n  }\n  ha-card:before {\n    content: '';\n    padding-top: 0px;\n    transition: padding-top .5s cubic-bezier(.21,.61,.35,1);\n    will-change: padding-top;\n  }\n  ha-card.--initial .entity__artwork,\n  ha-card.--initial .entity__icon {\n    animation-duration: .001s;\n  }\n  ha-card.--initial:before,\n  ha-card.--initial .mmp-player {\n    transition: none;\n  }\n  header {\n    display: none;\n  }\n  ha-card[artwork='full-cover'].--has-artwork:before {\n    padding-top: 56%;\n  }\n  ha-card[artwork='full-cover'].--has-artwork[content='music']:before,\n  ha-card[artwork='full-cover-fit'].--has-artwork:before {\n    padding-top: 100%;\n  }\n  .mmp__bg {\n    background: var(--ha-card-background, var(--card-background-color, var(--paper-card-background-color, white)));\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    overflow: hidden;\n    -webkit-transform: translateZ(0);\n    transform: translateZ(0);\n    opacity: var(--mmp-bg-opacity);\n  }\n  ha-card[artwork='material'].--has-artwork .mmp__bg,\n  ha-card[artwork*='cover'].--has-artwork .mmp__bg {\n    opacity: var(--mmp-artwork-opacity);\n    background: transparent;\n  }\n  ha-card[artwork='material'].--has-artwork .cover {\n    height: 100%;\n    right: 0;\n    left: unset;\n    animation: fade-in 4s cubic-bezier(.21,.61,.35,1) !important;\n  }\n  ha-card[artwork='material'].--has-artwork .cover.--prev {\n    animation: fade-in 1s linear reverse forwards !important;\n  }\n  ha-card[artwork='material'].--has-artwork .cover-gradient {\n    position: absolute;\n    height: 100%;\n    right: 0;\n    left: 0;\n    opacity: 1;\n  }\n  ha-card.--group .mmp__bg {\n    background: transparent;\n  }\n  ha-card.--inactive .cover {\n    opacity: 0;\n  }\n  ha-card.--inactive .cover.--bg {\n    opacity: 1;\n  }\n  .cover-gradient {\n    transition: opacity .45s linear;\n    opacity: 0;\n  }\n  .cover,\n  .cover:before {\n    display: block;\n    opacity: 0;\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    transition: opacity .75s linear, width .05s cubic-bezier(.21,.61,.35,1);\n    will-change: opacity;\n  }\n  .cover:before {\n    content: '';\n    background: var(--mmp-overlay-color);\n  }\n  .cover {\n    animation: fade-in .5s cubic-bezier(.21,.61,.35,1);\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center center;\n    border-radius: var(--ha-card-border-radius, 0);\n    overflow: hidden;\n  }\n  .cover.--prev {\n    animation: fade-in .5s linear reverse forwards;\n  }\n  .cover.--bg {\n    opacity: 1;\n  }\n  ha-card[artwork*='full-cover'].--has-artwork .mmp-player {\n    background: linear-gradient(to top, var(--mmp-overlay-color) var(--mmp-overlay-color-stop), transparent 100%);\n    border-bottom-left-radius: var(--ha-card-border-radius, 0);\n    border-bottom-right-radius: var(--ha-card-border-radius, 0);\n  }\n  ha-card.--has-artwork .cover,\n  ha-card.--has-artwork[artwork='cover'] .cover:before {\n    opacity: .999;\n  }\n  ha-card[artwork='default'] .cover {\n    display: none;\n  }\n  ha-card.--bg .cover {\n    display: block;\n  }\n  ha-card[artwork='material'].--has-artwork .cover {\n    background-size: cover;\n  }\n  ha-card[artwork='full-cover-fit'].--has-artwork .cover {\n    background-color: black;\n    background-size: contain;\n  }\n  .mmp-player {\n    align-self: flex-end;\n    box-sizing: border-box;\n    position: relative;\n    padding: 16px;\n    transition: padding .25s ease-out;\n    width: 100%;\n    will-change: padding;\n  }\n  ha-card.--group .mmp-player {\n    padding: 2px 0;\n  }\n  .flex {\n    display: flex;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    flex-direction: row;\n  }\n  .mmp-player__core {\n    position: relative;\n  }\n  .entity__info {\n    justify-content: center;\n    display: flex;\n    flex-direction: column;\n    margin-left: 8px;\n    position: relative;\n    overflow: hidden;\n    user-select: none;\n  }\n  ha-card.--rtl .entity__info {\n    margin-left: auto;\n    margin-right: calc(var(--mmp-unit) / 5);\n  }\n  ha-card[content='movie'] .attr__media_season,\n  ha-card[content='movie'] .attr__media_episode {\n    display: none;\n  }\n  .entity__icon {\n    color: var(--mmp-icon-color);\n  }\n  .entity__icon[color] {\n    color: var(--mmp-icon-active-color);\n  }\n  .entity__artwork, .entity__icon {\n    animation: fade-in .25s ease-out;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 100%;\n    height: var(--mmp-unit);\n    width: var(--mmp-unit);\n    min-width: var(--mmp-unit);\n    line-height: var(--mmp-unit);\n    margin-right: calc(var(--mmp-unit) / 5);\n    position: relative;\n    text-align: center;\n    will-change: border-color;\n    transition: border-color .25s ease-out;\n  }\n  ha-card.--rtl .entity__artwork,\n  ha-card.--rtl .entity__icon {\n    margin-right: auto;\n  }\n  .entity__artwork[border] {\n    border: 2px solid var(--primary-text-color);\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n  }\n  .entity__artwork[border][state='playing'] {\n    border-color: var(--mmp-accent-color);\n  }\n  .entity__info__name,\n  .entity__info__media[short] {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .entity__info__name {\n    line-height: calc(var(--mmp-unit) / 2);\n    color: var(--mmp-text-color);\n    font-weight: var(--mmp-name-font-weight);\n  }\n  .entity__info__media {\n    color: var(--secondary-text-color);\n    max-height: 6em;\n    word-break: break-word;\n    opacity: var(--mmp-info-opacity);\n    transition: color .5s;\n  }\n  .entity__info__media[short] {\n    max-height: calc(var(--mmp-unit) / 2);\n    overflow: hidden;\n  }\n  .attr__app_name {\n    display: none;\n  }\n  .attr__app_name:first-child,\n  .attr__app_name:first-of-type {\n    display: inline;\n  }\n  .mmp-player__core[inactive] .entity__info__media {\n    color: var(--mmp-text-color);\n    max-width: 200px;\n    opacity: .5;\n  }\n  .entity__info__media[short-scroll] {\n    max-height: calc(var(--mmp-unit) / 2);\n    white-space: nowrap;\n  }\n  .entity__info__media[scroll] > span {\n    visibility: hidden;\n  }\n  .entity__info__media[scroll] > div {\n    animation: move linear infinite;\n  }\n  .entity__info__media[scroll] .marquee {\n    animation: slide linear infinite;\n  }\n  .entity__info__media[scroll] .marquee,\n  .entity__info__media[scroll] > div {\n    animation-duration: inherit;\n    visibility: visible;\n  }\n  .entity__info__media[scroll] {\n    animation-duration: 10s;\n    mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n    -webkit-mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n  }\n  .marquee {\n    visibility: hidden;\n    position: absolute;\n    white-space: nowrap;\n  }\n  ha-card[artwork*='cover'].--has-artwork .entity__info__media,\n  ha-card.--bg .entity__info__media {\n    color: var(--mmp-media-cover-info-color);\n  }\n  .entity__info__media span:before {\n    content: ' - ';\n  }\n  .entity__info__media span:first-of-type:before {\n    content: '';\n  }\n  .entity__info__media span:empty {\n    display: none;\n  }\n  .mmp-player__adds {\n    margin-left: calc(var(--mmp-unit) * 1.2);\n    position: relative;\n  }\n  ha-card.--rtl .mmp-player__adds {\n    margin-left: auto;\n    margin-right: calc(var(--mmp-unit) * 1.2);\n  }\n  .mmp-player__adds > *:nth-child(2) {\n    margin-top: 0px;\n  }\n  mmp-powerstrip {\n    flex: 1;\n    justify-content: flex-end;\n    margin-right: 0;\n    margin-left: auto;\n    width: auto;\n    max-width: 100%;\n  }\n  mmp-media-controls {\n    flex-wrap: wrap;\n  }\n  ha-card.--flow mmp-powerstrip {\n    justify-content: space-between;\n    margin-left: auto;\n  }\n  ha-card.--flow.--rtl mmp-powerstrip {\n    margin-right: auto;\n  }\n  ha-card.--flow .entity__info {\n    display: none;\n  }\n  ha-card.--responsive .mmp-player__adds {\n    margin-left: 0;\n  }\n  ha-card.--responsive.--rtl .mmp-player__adds {\n    margin-right: 0;\n  }\n  ha-card.--responsive .mmp-player__adds > mmp-media-controls {\n    padding: 0;\n  }\n  ha-card.--progress .mmp-player {\n    padding-bottom: calc(16px + calc(var(--mini-media-player-progress-height, 6px) - 6px));\n  }\n  ha-card.--progress.--group .mmp-player {\n    padding-bottom: calc(10px + calc(var(--mini-media-player-progress-height, 6px) - 6px));\n  }\n  ha-card.--runtime .mmp-player {\n    padding-bottom: calc(16px + 16px + var(--mini-media-player-progress-height, 0px));\n  }\n  ha-card.--runtime.--group .mmp-player {\n    padding-bottom: calc(16px + 12px + var(--mini-media-player-progress-height, 0px));\n  }\n  ha-card.--inactive .mmp-player {\n    padding: 16px;\n  }\n  ha-card.--inactive.--group .mmp-player {\n    padding: 2px 0;\n  }\n  .mmp-player div:empty {\n    display: none;\n  }\n  @keyframes slide {\n    100% { transform: translateX(-100%); }\n  }\n  @keyframes move {\n    from { transform: translateX(100%); }\n    to { transform: translateX(0); }\n  }\n  @keyframes fade-in {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  ha-switch {\n    padding: 16px 6px;\n  }\n  .side-by-side {\n    display: flex;\n  }\n  .side-by-side > * {\n    flex: 1;\n    padding-right: 4px;\n  }\n"]);return Za=function(){return a},a}function $a(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function _a(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ab(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?_a(Object(b),!0).forEach(function(c){bb(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):_a(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function bb(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cb(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function db(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){cb(h,d,e,f,g,"next",a)}function g(a){cb(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}!function(a,b){if("object"==typeof exports&&"object"==typeof module)module.exports=b();else if("function"==typeof define&&define.amd)define([],b);else{var c=b();for(var d in c)("object"==typeof exports?exports:a)[d]=c[d]}}(window,function(){var D=String.fromCharCode,$a=Math.round,_a=Math.min,bb=Math.max,cb=Math.abs;return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=187)}([function(a,b,c){var d=c(40),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();a.exports=f},function(a){var b=Array.isArray;a.exports=b},function(a){a.exports=function(a){return null!=a&&"object"==typeof a}},function(a){a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},function(a,b,c){var d=c(92),f=c(95);a.exports=function(a,b){var c=f(a,b);return d(c)?c:void 0}},function(a,b,c){var d=c(38),e=c(76),f=c(11);a.exports=function(a){return f(a)?d(a):e(a)}},function(a,b,c){var d=c(7),e=c(72),f=c(73),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},function(a,b,c){var d=c(0).Symbol;a.exports=d},function(a){a.exports=function(a,b){return a===b||a!=a&&b!=b}},function(b,d){var c=Math.pow;function f(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return null===b?null:[b[1],b[2],b[3]].map(function(a){return parseInt(a,16)})}function g(a,b,d){return b/=255,d/=255,a=.04045<(a/=255)?c((a+.005)/1.055,2.4):a/12.92,b=.04045<b?c((b+.005)/1.055,2.4):b/12.92,d=.04045<d?c((d+.005)/1.055,2.4):d/12.92,[.4124*(a*=100)+.3576*(b*=100)+.1805*(d*=100),.2126*a+.7152*b+.0722*d,.0193*a+.1192*b+.9505*d]}function h(a,b,d){return b/=100,d/=108.883,a=.008856<(a/=95.047)?c(a,1/3):7.787*a+16/116,[116*(b=.008856<b?c(b,1/3):7.787*b+16/116)-16,500*(a-b),200*(b-(d=.008856<d?c(d,1/3):7.787*d+16/116))]}function i(a,b,c){var d=g(a,b,c);return h(d[0],d[1],d[2])}function j(b,g){var e=Math.sqrt,j=b[0],k=b[1],n=b[2],i=g[0],o=g[1],q=g[2],a=j-i,c=k-o,l=n-q,r=e(k*k+n*n),h=i-j,s=e(o*o+q*q)-r,t=e(a*a+c*c+l*l),f=e(t)>e(cb(h))+e(cb(s))?e(t*t-h*h-s*s):0;return h/=1,s/=1*(1+.045*r),f/=1*(1+.015*r),e(h*h+s*s+f*f)}function a(a,b){return j(i.apply(void 0,a),i.apply(void 0,b))}Object.defineProperty(d,"__esModule",{value:!0}),d.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},d.SIGBITS=5,d.RSHIFT=8-d.SIGBITS,d.defer=function(){var a,b,c=new Promise(function(c,d){a=c,b=d});return{resolve:a,reject:b,promise:c}},d.hexToRgb=f,d.rgbToHex=function(a,b,c){return"#"+(16777216+(a<<16)+(b<<8)+c).toString(16).slice(1,7)},d.rgbToHsl=function(b,d,f){b/=255,d/=255,f/=255;var g,h,j=bb(b,d,f),k=_a(b,d,f),l=(j+k)/2;if(j===k)g=h=0;else{var a=j-k;switch(h=.5<l?a/(2-j-k):a/(j+k),j){case b:g=(d-f)/a+(d<f?6:0);break;case d:g=(f-b)/a+2;break;case f:g=(b-d)/a+4;}g/=6}return[g,h,l]},d.hslToRgb=function(b,d,e){function f(a,b,c){return 0>c&&(c+=1),1<c&&(c-=1),c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*((b-a)*(2/3-c)):a}var g,h,j;if(0===d)g=h=j=e;else{var k=.5>e?e*(1+d):e+d-e*d,a=2*e-k;g=f(a,k,b+1/3),h=f(a,k,b),j=f(a,k,b-1/3)}return[255*g,255*h,255*j]},d.rgbToXyz=g,d.xyzToCIELab=h,d.rgbToCIELab=i,d.deltaE94=j,d.rgbDiff=a,d.hexDiff=function(b,c){return a(f(b),f(c))},d.getColorDiffStatus=function(a){return a<d.DELTAE94_DIFF_STATUS.NA?"N/A":a<=d.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":a<=d.DELTAE94_DIFF_STATUS.CLOSE?"Close":a<=d.DELTAE94_DIFF_STATUS.GOOD?"Good":a<d.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"},d.getColorIndex=function(a,b,c){return(a<<2*d.SIGBITS)+(b<<d.SIGBITS)+c}},function(a){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(a,b,c){var d=c(43),e=c(23);a.exports=function(a){return null!=a&&e(a.length)&&!d(a)}},function(b,d,e){function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var c=e(82),g=e(83),h=e(84),i=e(85),j=e(86);f.prototype.clear=c,f.prototype.delete=g,f.prototype.get=h,f.prototype.has=i,f.prototype.set=j,b.exports=f},function(a,b,c){var d=c(8);a.exports=function(a,b){for(var c=a.length;c--;)if(d(a[c][0],b))return c;return-1}},function(a,b,c){var d=c(4)(Object,"create");a.exports=d},function(a,b,c){var d=c(104);a.exports=function(a,b){var c=a.__data__;return d(b)?c["string"==typeof b?"string":"hash"]:c.map}},function(b,g,e){var j=e(118),k=e(28),i=e(119),n=e(120),o=e(121),a=e(6),c=e(44),l=c(j),q=c(k),h=c(i),p=c(n),d=c(o),f=a;(j&&"[object DataView]"!=f(new j(new ArrayBuffer(1)))||k&&"[object Map]"!=f(new k)||i&&"[object Promise]"!=f(i.resolve())||n&&"[object Set]"!=f(new n)||o&&"[object WeakMap]"!=f(new o))&&(f=function(b){var f=a(b),e="[object Object]"==f?b.constructor:void 0,g=e?c(e):"";if(g)switch(g){case l:return"[object DataView]";case q:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]";}return f}),b.exports=f},function(a,b,c){var d=c(32);a.exports=function(a){if("string"==typeof a||d(a))return a;var b=a+"";return"0"==b&&1/a==-1/0?"-0":b}},function(a,b,c){var d=c(56),f=c(57);a.exports=function(b,g,e,h){var i=!e;e||(e={});for(var j=-1,k=g.length;++j<k;){var c=g[j],l=h?h(e[c],b[c],c,e,b):void 0;void 0===l&&(l=b[c]),i?f(e,c,l):d(e,c,l)}return e}},function(a){var b=function(){return this}();try{b=b||new Function("return this")()}catch(a){"object"==typeof window&&(b=window)}a.exports=b},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var d=c(9),f=c(64),e=function(){function a(a,b){this._rgb=a,this._population=b}return a.applyFilter=function(a,b){return"function"==typeof b?f(a,function(a){var c=a.r,d=a.g,e=a.b;return b(c,d,e,255)}):a},Object.defineProperty(a.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rgb",{get:function(){return this._rgb},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hsl",{get:function(){if(!this._hsl){var a=this._rgb,b=a[0],c=a[1],e=a[2];this._hsl=d.rgbToHsl(b,c,e)}return this._hsl},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hex",{get:function(){if(!this._hex){var a=this._rgb,b=a[0],c=a[1],e=a[2];this._hex=d.rgbToHex(b,c,e)}return this._hex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"population",{get:function(){return this._population},enumerable:!0,configurable:!0}),a.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},a.prototype.getRgb=function(){return this._rgb},a.prototype.getHsl=function(){return this.hsl},a.prototype.getPopulation=function(){return this._population},a.prototype.getHex=function(){return this.hex},a.prototype.getYiq=function(){if(!this._yiq){var a=this._rgb;this._yiq=(299*a[0]+587*a[1]+114*a[2])/1e3}return this._yiq},Object.defineProperty(a.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=200>this.getYiq()?"#fff":"#000"),this._titleTextColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=150>this.getYiq()?"#fff":"#000"),this._bodyTextColor},enumerable:!0,configurable:!0}),a.prototype.getTitleTextColor=function(){return this.titleTextColor},a.prototype.getBodyTextColor=function(){return this.bodyTextColor},a}();b.Swatch=e},function(a,b,d){(function(e){var f=d(0),g=d(74),h=b&&!b.nodeType&&b,i=h&&"object"==typeof e&&e&&!e.nodeType&&e,j=i&&i.exports===h?f.Buffer:void 0,a=(j?j.isBuffer:void 0)||g;e.exports=a}).call(this,d(10)(a))},function(a){a.exports=function(a,b){var c=typeof a;return!!(b=null==b?9007199254740991:b)&&("number"==c||"symbol"!=c&&/^(?:0|[1-9]\d*)$/.test(a))&&-1<a&&0==a%1&&a<b}},function(a){a.exports=function(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}},function(a){a.exports=function(a){return function(b){return a(b)}}},function(a,b,c){(function(d){var e=c(40),f=b&&!b.nodeType&&b,g=f&&"object"==typeof d&&d&&!d.nodeType&&d,h=g&&g.exports===f&&e.process,i=function(){try{var a=g&&g.require&&g.require("util").types;return a||h&&h.binding&&h.binding("util")}catch(a){}}();d.exports=i}).call(this,c(10)(a))},function(a){var b=Object.prototype;a.exports=function(a){var c=a&&a.constructor;return a===("function"==typeof c&&c.prototype||b)}},function(b,d,e){function f(a){var b=this.__data__=new g(a);this.size=b.size}var g=e(12),h=e(87),i=e(88),j=e(89),k=e(90),a=e(91);f.prototype.clear=h,f.prototype.delete=i,f.prototype.get=j,f.prototype.has=k,f.prototype.set=a,b.exports=f},function(a,b,c){var d=c(4)(c(0),"Map");a.exports=d},function(b,d,e){function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var c=e(96),g=e(103),h=e(105),i=e(106),j=e(107);f.prototype.clear=c,f.prototype.delete=g,f.prototype.get=h,f.prototype.has=i,f.prototype.set=j,b.exports=f},function(b,c,d){var e=d(37),f=d(51),g=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols,i=h?function(a){return null==a?[]:(a=Object(a),e(h(a),function(b){return g.call(a,b)}))}:f;b.exports=i},function(a,b,c){var d=c(1),f=c(32);a.exports=function(a,b){if(d(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||f(a)||/^\w*$/.test(a)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(a)||null!=b&&a in Object(b)}},function(a,b,c){var d=c(6),e=c(2);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},function(a){a.exports=function(a){return a}},function(a,b,c){var d=c(38),e=c(143),f=c(11);a.exports=function(a){return f(a)?d(a,!0):e(a)}},function(a,b,c){var d=c(47);a.exports=function(a){var b=new a.constructor(a.byteLength);return new d(b).set(new d(a)),b}},function(b,d,e){var f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},g=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b};Object.defineProperty(d,"__esModule",{value:!0});var i=e(20),j=f(e(137)),k=g(e(9)),a=g(e(162)),c=g(e(166)),l=g(e(176)),m=e(61),h=function(){function b(a,c){this._src=a,this.opts=m({},c,b.DefaultOpts),this.opts.combinedFilter=l.combineFilters(this.opts.filters)}return b.from=function(a){return new j.default(a)},b.prototype._process=function(a,b){var c=b.quantizer,d=b.generator;return a.scaleDown(b),a.applyFilter(b.combinedFilter).then(function(a){return c(a.data,b)}).then(function(a){return i.Swatch.applyFilter(a,b.combinedFilter)}).then(function(a){return Promise.resolve(d(a))})},b.prototype.palette=function(){return this.swatches()},b.prototype.swatches=function(){return this._palette},b.prototype.getPalette=function(a){var b=this,c=new this.opts.ImageClass,d=c.load(this._src).then(function(a){return b._process(a,b.opts)}).then(function(a){return b._palette=a,c.remove(),a},function(a){throw c.remove(),a});return a&&d.then(function(b){return a(null,b)},function(b){return a(b)}),d},b.Builder=j.default,b.Quantizer=a,b.Generator=c,b.Filter=l,b.Util=k,b.Swatch=i.Swatch,b.DefaultOpts={colorCount:64,quality:5,generator:c.Default,ImageClass:null,quantizer:a.MMCQ,filters:[l.Default]},b}();d.default=h},function(a){a.exports=function(a,b){for(var c,d=-1,e=null==a?0:a.length,f=0,g=[];++d<e;)c=a[d],b(c,d,a)&&(g[f++]=c);return g}},function(b,d,e){var j=e(70),k=e(39),i=e(1),n=e(21),o=e(22),a=e(41),c=Object.prototype.hasOwnProperty;b.exports=function(b,l){var e=i(b),q=!e&&k(b),r=!e&&!q&&n(b),h=!e&&!q&&!r&&a(b),p=e||q||r||h,d=p?j(b.length,String):[],f=d.length;for(var m in b)!l&&!c.call(b,m)||p&&("length"==m||r&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||o(m,f))||d.push(m);return d}},function(b,d,e){var f=e(71),g=e(2),h=Object.prototype,i=h.hasOwnProperty,j=h.propertyIsEnumerable,a=f(function(){return arguments}())?f:function(a){return g(a)&&i.call(a,"callee")&&!j.call(a,"callee")};b.exports=a},function(a,b,c){(function(b){var c="object"==typeof b&&b&&b.Object===Object&&b;a.exports=c}).call(this,c(19))},function(b,c,d){var e=d(75),f=d(24),g=d(25),h=g&&g.isTypedArray,i=h?f(h):e;b.exports=i},function(a){a.exports=function(a,b){return function(c){return a(b(c))}}},function(a,b,c){var d=c(6),f=c(3);a.exports=function(a){if(!f(a))return!1;var b=d(a);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}},function(a){var b=Function.prototype.toString;a.exports=function(a){if(null!=a){try{return b.call(a)}catch(a){}try{return a+""}catch(a){}}return""}},function(a,b,c){var d=c(108),f=c(2);a.exports=function b(c,e,g,h,i){return c===e||(null!=c&&null!=e&&(f(c)||f(e))?d(c,e,g,h,b,i):c!=c&&e!=e)}},function(a,b,c){var j=c(109),f=c(112),d=c(113);a.exports=function(b,i,k,n,o,a){var c=1&k,e=b.length,l=i.length;if(e!=l&&!(c&&l>e))return!1;var h=a.get(b);if(h&&a.get(i))return h==i;var p=-1,q=!0,r=2&k?new j:void 0;for(a.set(b,i),a.set(i,b);++p<e;){var m=b[p],g=i[p];if(n)var s=c?n(g,m,p,i,b,a):n(m,g,p,b,i,a);if(void 0!==s){if(s)continue;q=!1;break}if(r){if(!f(i,function(b,c){if(!d(r,c)&&(m===b||o(m,b,k,n,a)))return r.push(c)})){q=!1;break}}else if(m!==g&&!o(m,g,k,n,a)){q=!1;break}}return a.delete(b),a.delete(i),q}},function(a,b,c){var d=c(0).Uint8Array;a.exports=d},function(a,b,c){var d=c(49),e=c(30),f=c(5);a.exports=function(a){return d(a,f,e)}},function(a,b,c){var d=c(50),f=c(1);a.exports=function(a,b,c){var e=b(a);return f(a)?e:d(e,c(a))}},function(a){a.exports=function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}},function(a){a.exports=function(){return[]}},function(a,b,c){var d=c(3);a.exports=function(a){return a==a&&!d(a)}},function(a){a.exports=function(a,b){return function(c){return null!=c&&c[a]===b&&(void 0!==b||a in Object(c))}}},function(a,b,c){var d=c(55),f=c(17);a.exports=function(a,b){for(var c=0,g=(b=d(b,a)).length;null!=a&&c<g;)a=a[f(b[c++])];return c&&c==g?a:void 0}},function(a,b,c){var d=c(1),f=c(31),g=c(125),h=c(128);a.exports=function(a,b){return d(a)?a:f(a,b)?[a]:g(h(a))}},function(a,b,c){var d=c(57),f=c(8),g=Object.prototype.hasOwnProperty;a.exports=function(a,b,c){var e=a[b];g.call(a,b)&&f(e,c)&&(void 0!==c||b in a)||d(a,b,c)}},function(a,b,c){var d=c(58);a.exports=function(a,b,c){"__proto__"==b&&d?d(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}},function(a,b,c){var d=c(4),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();a.exports=e},function(b,c,d){var f=d(50),g=d(60),h=d(30),e=d(51),i=Object.getOwnPropertySymbols?function(a){for(var b=[];a;)f(b,h(a)),a=g(a);return b}:e;b.exports=i},function(a,b,c){var d=c(42)(Object.getPrototypeOf,Object);a.exports=d},function(b,d,e){var f=e(168),g=e(8),i=e(175),j=e(34),k=Object.prototype,a=k.hasOwnProperty,c=f(function(b,c){b=Object(b);var e=-1,o=c.length,q=2<o?c[2]:void 0;for(q&&i(c[0],c[1],q)&&(o=1);++e<o;)for(var l=c[e],s=j(l),h=-1,u=s.length;++h<u;){var d=s[h],f=b[d];(void 0===f||g(f,k[d])&&!a.call(b,d))&&(b[d]=l[d])}return b});b.exports=c},function(a,j,b){(function(e){function q(a){return parseFloat(a)||0}function p(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.reduce(function(b,c){return b+q(a["border-"+c+"-width"])},0)}function d(b){var d=b.clientWidth,e=b.clientHeight;if(!d&&!e)return u;var h=A(b).getComputedStyle(b),j=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c++){var e=d[c],f=a["padding-"+e];b[e]=q(f)}return b}(h),i=j.left+j.right,k=j.top+j.bottom,m=q(h.width),n=q(h.height);if("border-box"===h.boxSizing&&($a(m+i)!==d&&(m-=p(h,"left","right")+i),$a(n+k)!==e&&(n-=p(h,"top","bottom")+k)),!function(a){return a===A(a).document.documentElement}(b)){var o=$a(m+i)-d,l=$a(n+k)-e;1!==cb(o)&&(m-=o),1!==cb(l)&&(n-=l)}return g(j.left,j.top,m,n)}function f(a){return r?c(a)?function(a){var b=a.getBBox();return g(0,0,b.width,b.height)}(a):d(a):u}function g(a,b,c,d){return{x:a,y:b,width:c,height:d}}var v=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,f=this.__entries__;d<f.length;d++)c=f[d],a.call(b,c[1],c[0])},b}():Map}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,a=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(b,d){function e(){c&&(c=!1,b()),g&&a()}function f(){i(e)}function a(){var a=Date.now();if(c){if(2>a-h)return;g=!0}else c=!0,g=!1,setTimeout(f,d);h=a}var c=!1,g=!1,h=0;return a}(this.refresh.bind(this),20)}return a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},a.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},a.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},a.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(a){var b=a.propertyName,c=void 0===b?"":b;o.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a}(),z=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d++)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},A=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||n},u=g(0,0,0,0),c="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof A(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof A(a).SVGGraphicsElement},h=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=a}return a.prototype.isActive=function(){var a=f(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},a}(),l=function(b,d){var e,f,g,h,j,k,l,m=(f=(e=d).x,g=e.y,h=e.width,j=e.height,k="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,l=Object.create(k.prototype),z(l,{x:f,y:g,width:h,height:j,top:g,right:f+h,bottom:j+g,left:f}),l);z(this,{target:b,contentRect:m})},m=function(){function a(a,b,c){if(this.activeObservations_=[],this.observations_=new v,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c}return a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof A(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new h(a)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof A(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new l(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return 0<this.activeObservations_.length},a}(),b="undefined"==typeof WeakMap?new v:new WeakMap,w=function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=a.getInstance(),f=new m(d,e,this);b.set(this,f)};["observe","unobserve","disconnect"].forEach(function(a){w.prototype[a]=function(){var c;return(c=b.get(this))[a].apply(c,arguments)}});var t=void 0===n.ResizeObserver?w:n.ResizeObserver;j.a=t}).call(this,b(19))},function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=d(c(36)),f=d(c(178));e.default.DefaultOpts.ImageClass=f.default,a.exports=e.default},function(a,b,c){var d=c(37),f=c(65),g=c(79),h=c(1);a.exports=function(a,b){return(h(a)?d:f)(a,g(b,3))}},function(a,b,c){var d=c(66);a.exports=function(a,b){var c=[];return d(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}},function(a,b,c){var d=c(67),e=c(78)(d);a.exports=e},function(a,b,c){var d=c(68),f=c(5);a.exports=function(a,b){return a&&d(a,b,f)}},function(a,b,c){var d=c(69)();a.exports=d},function(a){a.exports=function(b){return function(d,e,f){for(var g,h=-1,j=Object(d),k=f(d),l=k.length;l--&&(g=k[b?l:++h],!1!==e(j[g],g,j)););return d}}},function(a){a.exports=function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}},function(a,b,c){var d=c(6),e=c(2);a.exports=function(a){return e(a)&&"[object Arguments]"==d(a)}},function(b,c,d){var e=d(7),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,j=e?e.toStringTag:void 0;b.exports=function(a){var b=g.call(a,j),c=a[j];try{a[j]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[j]=c:delete a[j]),e}},function(a){var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},function(a){a.exports=function(){return!1}},function(a,b,c){var d=c(6),e=c(23),f=c(2),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,a.exports=function(a){return f(a)&&e(a.length)&&!!g[d(a)]}},function(a,b,c){var d=c(26),f=c(77),g=Object.prototype.hasOwnProperty;a.exports=function(a){if(!d(a))return f(a);var b=[];for(var c in Object(a))g.call(a,c)&&"constructor"!=c&&b.push(c);return b}},function(a,b,c){var d=c(42)(Object.keys,Object);a.exports=d},function(a,b,c){var d=c(11);a.exports=function(b,c){return function(e,f){if(null==e)return e;if(!d(e))return b(e,f);for(var g=e.length,h=c?g:-1,i=Object(e);(c?h--:++h<g)&&!1!==f(i[h],h,i););return e}}},function(b,c,d){var e=d(80),f=d(123),g=d(33),h=d(1),i=d(134);b.exports=function(a){return"function"==typeof a?a:null==a?g:"object"==typeof a?h(a)?f(a[0],a[1]):e(a):i(a)}},function(a,b,c){var d=c(81),f=c(122),g=c(53);a.exports=function(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||d(c,a,b)}}},function(a,b,c){var g=c(27),j=c(45);a.exports=function(b,i,e,k){var m=e.length,n=m,a=!k;if(null==b)return!n;for(b=Object(b);m--;){var c=e[m];if(a&&c[2]?c[1]!==b[c[0]]:!(c[0]in b))return!1}for(;++m<n;){var o=(c=e[m])[0],q=b[o],h=c[1];if(!(a&&c[2])){var p=new g;if(k)var d=k(q,h,o,b,i,p);if(void 0===d?!j(h,q,3,k,p):!d)return!1}else if(void 0===q&&!(o in b))return!1}return!0}},function(a){a.exports=function(){this.__data__=[],this.size=0}},function(a,b,c){var d=c(13),f=Array.prototype.splice;a.exports=function(a){var b=this.__data__,c=d(b,a);return!(0>c)&&(c==b.length-1?b.pop():f.call(b,c,1),--this.size,!0)}},function(a,b,c){var d=c(13);a.exports=function(a){var b=this.__data__,c=d(b,a);return 0>c?void 0:b[c][1]}},function(a,b,c){var d=c(13);a.exports=function(a){return-1<d(this.__data__,a)}},function(a,b,c){var d=c(13);a.exports=function(a,b){var c=this.__data__,e=d(c,a);return 0>e?(++this.size,c.push([a,b])):c[e][1]=b,this}},function(a,b,c){var d=c(12);a.exports=function(){this.__data__=new d,this.size=0}},function(a){a.exports=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}},function(a){a.exports=function(a){return this.__data__.get(a)}},function(a){a.exports=function(a){return this.__data__.has(a)}},function(a,b,c){var d=c(12),f=c(28),g=c(29);a.exports=function(a,b){var c=this.__data__;if(c instanceof d){var e=c.__data__;if(!f||199>e.length)return e.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(e)}return c.set(a,b),this.size=c.size,this}},function(a,b,d){var e=d(43),f=d(93),g=d(3),i=d(44),j=Function.prototype,c=Object.prototype,k=j.toString,l=c.hasOwnProperty,h=RegExp("^"+k.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(a){return g(a)&&!f(a)&&(e(a)?h:/^\[object .+?Constructor\]$/).test(i(a))}},function(a,b,c){var d,e=c(94),f=(d=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";a.exports=function(a){return!!f&&f in a}},function(a,b,c){var d=c(0)["__core-js_shared__"];a.exports=d},function(a){a.exports=function(a,b){return null==a?void 0:a[b]}},function(a,b,c){var d=c(97),e=c(12),f=c(28);a.exports=function(){this.size=0,this.__data__={hash:new d,map:new(f||e),string:new d}}},function(b,d,e){function f(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var c=e(98),g=e(99),h=e(100),i=e(101),j=e(102);f.prototype.clear=c,f.prototype.delete=g,f.prototype.get=h,f.prototype.has=i,f.prototype.set=j,b.exports=f},function(a,b,c){var d=c(14);a.exports=function(){this.__data__=d?d(null):{},this.size=0}},function(a){a.exports=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}},function(a,b,c){var d=c(14),f=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;if(d){var c=b[a];return"__lodash_hash_undefined__"===c?void 0:c}return f.call(b,a)?b[a]:void 0}},function(a,b,c){var d=c(14),f=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;return d?void 0!==b[a]:f.call(b,a)}},function(a,b,c){var d=c(14);a.exports=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=d&&void 0===b?"__lodash_hash_undefined__":b,this}},function(a,b,c){var d=c(15);a.exports=function(a){var b=d(this,a).delete(a);return this.size-=b?1:0,b}},function(a){a.exports=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}},function(a,b,c){var d=c(15);a.exports=function(a){return d(this,a).get(a)}},function(a,b,c){var d=c(15);a.exports=function(a){return d(this,a).has(a)}},function(a,b,c){var d=c(15);a.exports=function(a,b){var c=d(this,a),e=c.size;return c.set(a,b),this.size+=c.size==e?0:1,this}},function(b,d,e){var h=e(27),n=e(46),i=e(114),o=e(117),q=e(16),a=e(1),c=e(21),l=e(41),g=Object.prototype.hasOwnProperty;b.exports=function(p,s,e,r,d,f){var t=a(p),u=a(s),v=t?"[object Array]":q(p),z=u?"[object Array]":q(s),A=(v="[object Arguments]"==v?"[object Object]":v)=="[object Object]",B=(z="[object Arguments]"==z?"[object Object]":z)=="[object Object]",w=v==z;if(w&&c(p)){if(!c(s))return!1;t=!0,A=!1}if(w&&!A)return f||(f=new h),t||l(p)?n(p,s,e,r,d,f):i(p,s,v,e,r,d,f);if(!(1&e)){var x=A&&g.call(p,"__wrapped__"),k=B&&g.call(s,"__wrapped__");if(x||k){var C=x?p.value():p,D=k?s.value():s;return f||(f=new h),d(C,D,e,r,f)}}return!!w&&(f||(f=new h),o(p,s,e,r,d,f))}},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new f;++b<c;)this.add(a[b])}var f=c(29),e=c(110),g=c(111);d.prototype.add=d.prototype.push=e,d.prototype.has=g,a.exports=d},function(a){a.exports=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this}},function(a){a.exports=function(a){return this.__data__.has(a)}},function(a){a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}},function(a){a.exports=function(a,b){return a.has(b)}},function(b,d,e){var f=e(7),j=e(47),i=e(8),k=e(46),o=e(115),a=e(116),c=f?f.prototype:void 0,q=c?c.valueOf:void 0;b.exports=function(b,c,s,r,u,l,h){switch(s){case"[object DataView]":if(b.byteLength!=c.byteLength||b.byteOffset!=c.byteOffset)return!1;b=b.buffer,c=c.buffer;case"[object ArrayBuffer]":return b.byteLength==c.byteLength&&l(new j(b),new j(c));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+b,+c);case"[object Error]":return b.name==c.name&&b.message==c.message;case"[object RegExp]":case"[object String]":return b==c+"";case"[object Map]":var p=o;case"[object Set]":var v=1&r;if(p||(p=a),b.size!=c.size&&!v)return!1;var f=h.get(b);if(f)return f==c;r|=2,h.set(b,c);var m=k(p(b),p(c),r,u,l,h);return h.delete(b),m;case"[object Symbol]":if(q)return q.call(b)==q.call(c);}return!1}},function(a){a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}},function(a){a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}},function(a,b,c){var j=c(48),d=Object.prototype.hasOwnProperty;a.exports=function(i,k,e,n,o,q){var a=1&e,c=j(i),l=c.length;if(l!=j(k).length&&!a)return!1;for(var r,s=l;s--;)if(r=c[s],a?!(r in k):!d.call(k,r))return!1;var t=q.get(i);if(t&&q.get(k))return t==k;var u=!0;q.set(i,k),q.set(k,i);for(var w=a;++s<l;){var x=i[r=c[s]],g=k[r];if(n)var v=a?n(g,x,r,k,i,q):n(x,g,r,i,k,q);if(void 0===v?!(x===g||o(x,g,e,n,q)):!v){u=!1;break}w||(w="constructor"==r)}if(u&&!w){var z=i.constructor,y=k.constructor;z==y||!("constructor"in i)||!("constructor"in k)||"function"==typeof z&&z instanceof z&&"function"==typeof y&&y instanceof y||(u=!1)}return q.delete(i),q.delete(k),u}},function(a,b,c){var d=c(4)(c(0),"DataView");a.exports=d},function(a,b,c){var d=c(4)(c(0),"Promise");a.exports=d},function(a,b,c){var d=c(4)(c(0),"Set");a.exports=d},function(a,b,c){var d=c(4)(c(0),"WeakMap");a.exports=d},function(a,b,c){var d=c(52),f=c(5);a.exports=function(a){for(var b=f(a),c=b.length;c--;){var e=b[c],g=a[e];b[c]=[e,g,d(g)]}return b}},function(b,d,e){var f=e(45),g=e(124),h=e(131),i=e(31),j=e(52),a=e(53),c=e(17);b.exports=function(b,d){return i(b)&&j(d)?a(c(b),d):function(a){var c=g(a,b);return void 0===c&&c===d?h(a,b):f(d,c,3)}}},function(a,b,c){var d=c(54);a.exports=function(a,b,c){var e=null==a?void 0:d(a,b);return void 0===e?c:e}},function(a,b,c){var d=c(126),e=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(a,c,d,e){b.push(d?e.replace(/\\(\\)?/g,"$1"):c||a)}),b});a.exports=e},function(a,b,c){var d=c(127);a.exports=function(a){var b=d(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}},function(a,b,c){function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(d.Cache||f),c}var f=c(29);d.Cache=f,a.exports=d},function(a,b,c){var d=c(129);a.exports=function(a){return null==a?"":d(a)}},function(b,d,e){var f=e(7),g=e(130),h=e(1),i=e(32),j=f?f.prototype:void 0,a=j?j.toString:void 0;b.exports=function b(c){if("string"==typeof c)return c;if(h(c))return g(c,b)+"";if(i(c))return a?a.call(c):"";var d=c+"";return"0"==d&&1/c==-1/0?"-0":d}},function(a){a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}},function(a,b,c){var d=c(132),f=c(133);a.exports=function(a,b){return null!=a&&f(a,b,d)}},function(a){a.exports=function(a,b){return null!=a&&b in Object(a)}},function(b,d,e){var f=e(55),g=e(39),i=e(1),j=e(22),k=e(23),a=e(17);b.exports=function(b,c,d){for(var m,n=-1,o=(c=f(c,b)).length,q=!1;++n<o&&(m=a(c[n]),!!(q=null!=b&&d(b,m)));)b=b[m];return q||++n!=o?q:!!(o=null==b?0:b.length)&&k(o)&&j(m,o)&&(i(b)||g(b))}},function(a,b,c){var d=c(135),e=c(136),f=c(31),g=c(17);a.exports=function(a){return f(a)?d(g(a)):e(a)}},function(a){a.exports=function(a){return function(b){return null==b?void 0:b[a]}}},function(a,b,c){var d=c(54);a.exports=function(a){return function(b){return d(b,a)}}},function(a,b,c){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var f=d(c(36)),g=c(138),e=function(){function a(a,b){void 0===b&&(b={}),this._src=a,this._opts=b,this._opts.filters=g(f.default.DefaultOpts.filters)}return a.prototype.maxColorCount=function(a){return this._opts.colorCount=a,this},a.prototype.maxDimension=function(a){return this._opts.maxDimension=a,this},a.prototype.addFilter=function(a){return this._opts.filters.push(a),this},a.prototype.removeFilter=function(a){var b=this._opts.filters.indexOf(a);return 0<b&&this._opts.filters.splice(b),this},a.prototype.clearFilters=function(){return this._opts.filters=[],this},a.prototype.quality=function(a){return this._opts.quality=a,this},a.prototype.useImageClass=function(a){return this._opts.ImageClass=a,this},a.prototype.useGenerator=function(a){return this._opts.generator=a,this},a.prototype.useQuantizer=function(a){return this._opts.quantizer=a,this},a.prototype.build=function(){return new f.default(this._src,this._opts)},a.prototype.getPalette=function(a){return this.build().getPalette(a)},a.prototype.getSwatches=function(a){return this.build().getPalette(a)},a}();b.default=e},function(a,b,c){var d=c(139);a.exports=function(a){return d(a,4)}},function(j,q,e){var B=e(27),n=e(140),A=e(56),i=e(141),o=e(142),a=e(145),c=e(146),l=e(147),r=e(148),h=e(48),p=e(149),d=e(16),f=e(150),m=e(151),g=e(156),s=e(1),t=e(21),u=e(158),b=e(3),v=e(160),w=e(5),k={};k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k["[object Function]"]=k["[object WeakMap]"]=!1,j.exports=function q(x,e,y,D,j,E){var F,G=1&e,H=2&e;if(y&&(F=j?y(x,D,j,E):y(x)),void 0!==F)return F;if(!b(x))return x;var J=s(x);if(!J){var K=d(x),I="[object Function]"==K||"[object GeneratorFunction]"==K;if(t(x))return a(x,G);if("[object Object]"!=K&&"[object Arguments]"!=K&&(!I||j)){if(!k[K])return j?x:{};F=m(x,K,G)}else if(F=H||I?{}:g(x),!G)return H?r(x,o(F,x)):l(x,i(F,x))}else if(F=f(x),!G)return c(x,F);E||(E=new B);var M=E.get(x);if(M)return M;E.set(x,F),v(x)?x.forEach(function(a){F.add(q(a,e,y,a,x,E))}):u(x)&&x.forEach(function(a,b){F.set(b,q(a,e,y,b,x,E))});var N=4&e?H?p:h:H?keysIn:w,L=J?void 0:N(x);return n(L||x,function(a,b){L&&(a=x[b=a]),A(F,b,q(a,e,y,b,x,E))}),F}},function(a){a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}},function(a,b,c){var d=c(18),f=c(5);a.exports=function(a,b){return a&&d(b,f(b),a)}},function(a,b,c){var d=c(18),f=c(34);a.exports=function(a,b){return a&&d(b,f(b),a)}},function(a,b,c){var d=c(3),f=c(26),g=c(144),h=Object.prototype.hasOwnProperty;a.exports=function(b){if(!d(b))return g(b);var c=f(b),e=[];for(var i in b)("constructor"!=i||!c&&h.call(b,i))&&e.push(i);return e}},function(a){a.exports=function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b}},function(a,b,c){(function(d){var e=c(0),f=b&&!b.nodeType&&b,g=f&&"object"==typeof d&&d&&!d.nodeType&&d,h=g&&g.exports===f?e.Buffer:void 0,i=h?h.allocUnsafe:void 0;d.exports=function(a,b){if(b)return a.slice();var c=a.length,d=i?i(c):new a.constructor(c);return a.copy(d),d}}).call(this,c(10)(a))},function(a){a.exports=function(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}},function(a,b,c){var d=c(18),f=c(30);a.exports=function(a,b){return d(a,f(a),b)}},function(a,b,c){var d=c(18),f=c(59);a.exports=function(a,b){return d(a,f(a),b)}},function(a,b,c){var d=c(49),e=c(59),f=c(34);a.exports=function(a){return d(a,f,e)}},function(a){var b=Object.prototype.hasOwnProperty;a.exports=function(a){var c=a.length,d=new a.constructor(c);return c&&"string"==typeof a[0]&&b.call(a,"index")&&(d.index=a.index,d.input=a.input),d}},function(b,c,d){var f=d(35),g=d(152),h=d(153),i=d(154),j=d(155);b.exports=function(a,b,d){var e=a.constructor;return"[object ArrayBuffer]"===b?f(a):"[object Boolean]"===b||"[object Date]"===b?new e(+a):"[object DataView]"===b?g(a,d):"[object Float32Array]"===b||"[object Float64Array]"===b||"[object Int8Array]"===b||"[object Int16Array]"===b||"[object Int32Array]"===b||"[object Uint8Array]"===b||"[object Uint8ClampedArray]"===b||"[object Uint16Array]"===b||"[object Uint32Array]"===b?j(a,d):"[object Map]"===b?new e:"[object Number]"===b||"[object String]"===b?new e(a):"[object RegExp]"===b?h(a):"[object Set]"===b?new e:"[object Symbol]"===b?i(a):void 0}},function(a,b,c){var d=c(35);a.exports=function(a,b){var c=b?d(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}},function(a){a.exports=function(a){var b=new a.constructor(a.source,/\w*$/.exec(a));return b.lastIndex=a.lastIndex,b}},function(a,b,c){var d=c(7),e=d?d.prototype:void 0,f=e?e.valueOf:void 0;a.exports=function(a){return f?Object(f.call(a)):{}}},function(a,b,c){var d=c(35);a.exports=function(a,b){var c=b?d(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}},function(a,b,c){var d=c(157),e=c(60),f=c(26);a.exports=function(a){return"function"!=typeof a.constructor||f(a)?{}:d(e(a))}},function(a,b,c){var d=c(3),f=Object.create,e=function(){function a(){}return function(b){if(!d(b))return{};if(f)return f(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();a.exports=e},function(b,c,d){var e=d(159),f=d(24),g=d(25),h=g&&g.isMap,i=h?f(h):e;b.exports=i},function(a,b,c){var d=c(16),e=c(2);a.exports=function(a){return e(a)&&"[object Map]"==d(a)}},function(b,c,d){var e=d(161),f=d(24),g=d(25),h=g&&g.isSet,i=h?f(h):e;b.exports=i},function(a,b,c){var d=c(16),e=c(2);a.exports=function(a){return e(a)&&"[object Set]"==d(a)}},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var d=c(163);b.MMCQ=d.default,b.WebWorker=null},function(b,c,d){function f(a,b){for(var c,d=a.size();a.size()<b&&(c=a.pop(),!!(c&&0<c.count()));){var e=c.split(),f=e[0],g=e[1];if(a.push(f),g&&0<g.count()&&a.push(g),a.size()===d)break;d=a.size()}}var a=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});var g=d(20),h=a(d(164)),i=a(d(165));c.default=function(a,b){if(0===a.length||2>b.colorCount||256<b.colorCount)throw new Error("Wrong MMCQ parameters");var d=h.default.build(a),e=d.hist,j=(Object.keys(e).length,new i.default(function(a,b){return a.count()-b.count()}));j.push(d),f(j,.75*b.colorCount);var c=new i.default(function(a,b){return a.count()*a.volume()-b.count()*b.volume()});return c.contents=j.contents,f(c,b.colorCount-c.size()),function(a){for(var b=[];a.size();){var c=a.pop(),d=c.avg();d[0],d[1],d[2],b.push(new g.Swatch(d,c.count()))}return b}(c)}},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var j=c(9),d=function(){function b(a,b,c,d,e,f,g){this._volume=-1,this._count=-1,this.dimension={r1:a,r2:b,g1:c,g2:d,b1:e,b2:f},this.hist=g}return b.build=function(k){var e,n,q,r,t,w,x,y,z,A=1<<3*j.SIGBITS,d=new Uint32Array(A);e=q=t=0,n=r=w=Number.MAX_VALUE;for(var f,B=k.length/4,m=0;m<B;)f=4*m,(m++,x=k[f+0],y=k[f+1],z=k[f+2],0!==k[f+3])&&(x>>=j.RSHIFT,y>>=j.RSHIFT,z>>=j.RSHIFT,d[j.getColorIndex(x,y,z)]+=1,x>e&&(e=x),x<n&&(n=x),y>q&&(q=y),y<r&&(r=y),z>t&&(t=z),z<w&&(w=z));return new b(n,e,r,q,w,t,d)},b.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},b.prototype.volume=function(){if(0>this._volume){var a=this.dimension,b=a.r1,c=a.r2,d=a.g1,e=a.g2,f=a.b1,g=a.b2;this._volume=(c-b+1)*(e-d+1)*(g-f+1)}return this._volume},b.prototype.count=function(){if(0>this._count){for(var b=this.hist,d=this.dimension,e=d.r1,f=d.r2,g=d.g1,i=d.g2,k=d.b1,a=d.b2,c=0,m=e;m<=f;m++)for(var n=g;n<=i;n++)for(var o=k;o<=a;o++)c+=b[j.getColorIndex(m,n,o)];this._count=c}return this._count},b.prototype.clone=function(){var a=this.hist,c=this.dimension;return new b(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,a)},b.prototype.avg=function(){if(!this._avg){var b,k,n,q=this.hist,t=this.dimension,e=t.r1,r=t.r2,i=t.g1,o=t.g2,s=t.b1,a=t.b2,c=0,w=1<<8-j.SIGBITS;b=k=n=0;for(var u=e;u<=r;u++)for(var x=i;x<=o;x++)for(var y,z=s;z<=a;z++)y=q[j.getColorIndex(u,x,z)],c+=y,b+=y*(u+.5)*w,k+=y*(x+.5)*w,n+=y*(z+.5)*w;this._avg=c?[~~(b/c),~~(k/c),~~(n/c)]:[~~(w*(e+r+1)/2),~~(w*(i+o+1)/2),~~(w*(s+a+1)/2)]}return this._avg},b.prototype.contains=function(b){var d=b[0],f=b[1],g=b[2],k=this.dimension,m=k.r1,n=k.r2,a=k.g1,c=k.g2,l=k.b1,o=k.b2;return d>>=j.RSHIFT,f>>=j.RSHIFT,g>>=j.RSHIFT,d>=m&&d<=n&&f>=a&&f<=c&&g>=l&&g<=o},b.prototype.split=function(){var f=this.hist,n=this.dimension,e=n.r1,q=n.r2,i=n.g1,o=n.g2,r=n.b1,a=n.b2,c=this.count();if(!c)return[];if(1===c)return[this.clone()];var l,s,t=q-e+1,p=o-i+1,d=bb(t,p,a-r+1),m=null;l=s=0;var z=null;if(d===t){z="r",m=new Uint32Array(q+1);for(var A=e;A<=q;A++){l=0;for(var B=i;B<=o;B++)for(var C=r;C<=a;C++)l+=f[j.getColorIndex(A,B,C)];s+=l,m[A]=s}}else if(d===p)for(z="g",m=new Uint32Array(o+1),B=i;B<=o;B++){for(l=0,A=e;A<=q;A++)for(C=r;C<=a;C++)l+=f[j.getColorIndex(A,B,C)];s+=l,m[B]=s}else for(z="b",m=new Uint32Array(a+1),C=r;C<=a;C++){for(l=0,A=e;A<=q;A++)for(B=i;B<=o;B++)l+=f[j.getColorIndex(A,B,C)];s+=l,m[C]=s}for(var D,E=-1,F=new Uint32Array(m.length),x=0;x<m.length;x++)D=m[x],0>E&&D>s/2&&(E=x),F[x]=s-D;var G=this;return function(b){var d=b+"1",e=b+"2",f=G.dimension[d],g=G.dimension[e],h=G.clone(),j=G.clone(),k=E-f,a=g-E;for(k<=a?(g=_a(g-1,~~(E+a/2)),g=bb(0,g)):(g=bb(f,~~(E-1-k/2)),g=_a(G.dimension[e],g));!m[g];)g++;for(var c=F[g];!c&&m[g-1];)c=F[--g];return h.dimension[e]=g,j.dimension[d]=g+1,[h,j]}(z)},b}();b.default=d},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(a){this._comparator=a,this.contents=[],this._sorted=!1}return a.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},a.prototype.push=function(a){this.contents.push(a),this._sorted=!1},a.prototype.peek=function(a){return this._sort(),a="number"==typeof a?a:this.contents.length-1,this.contents[a]},a.prototype.pop=function(){return this._sort(),this.contents.pop()},a.prototype.size=function(){return this.contents.length},a.prototype.map=function(a){return this._sort(),this.contents.map(a)},a}();b.default=c},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var d=c(167);b.Default=d.default},function(b,c,d){function f(b,d,g,j,k,i,n,o,a,c){var l=null,p=0;return d.forEach(function(h){var e=h.getHsl(),q=e[1],d=e[2];if(q>=o&&q<=a&&d>=k&&d<=i&&!function(a,b){return a.Vibrant===b||a.DarkVibrant===b||a.LightVibrant===b||a.Muted===b||a.DarkMuted===b||a.LightMuted===b}(b,h)){var f=function(b,c,d,e,f,g,h){function i(a,b){return 1-cb(a-b)}return function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0,d=0,f=0;f<a.length;f+=2){var g=a[f],h=a[f+1];c+=g*h,d+=h}return c/d}(i(b,c),h.weightSaturation,i(d,e),h.weightLuma,f/g,h.weightPopulation)}(q,n,d,j,h.getPopulation(),g,c);(null===l||f>p)&&(l=h,p=f)}}),l}Object.defineProperty(c,"__esModule",{value:!0});var e=d(20),j=d(9),a=d(61),g={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};c.default=function(b,d){d=a({},d,g);var h=function(a){var b=0;return a.forEach(function(a){b=bb(b,a.getPopulation())}),b}(b),i=function(a,b,c){var d={};return d.Vibrant=f(d,a,b,c.targetNormalLuma,c.minNormalLuma,c.maxNormalLuma,c.targetVibrantSaturation,c.minVibrantSaturation,1,c),d.LightVibrant=f(d,a,b,c.targetLightLuma,c.minLightLuma,1,c.targetVibrantSaturation,c.minVibrantSaturation,1,c),d.DarkVibrant=f(d,a,b,c.targetDarkLuma,0,c.maxDarkLuma,c.targetVibrantSaturation,c.minVibrantSaturation,1,c),d.Muted=f(d,a,b,c.targetNormalLuma,c.minNormalLuma,c.maxNormalLuma,c.targetMutesSaturation,0,c.maxMutesSaturation,c),d.LightMuted=f(d,a,b,c.targetLightLuma,c.minLightLuma,1,c.targetMutesSaturation,0,c.maxMutesSaturation,c),d.DarkMuted=f(d,a,b,c.targetDarkLuma,0,c.maxDarkLuma,c.targetMutesSaturation,0,c.maxMutesSaturation,c),d}(b,h,d);return function(b,i,k){if(null===b.Vibrant&&null===b.DarkVibrant&&null===b.LightVibrant){if(null===b.DarkVibrant&&null!==b.DarkMuted){var n=b.DarkMuted.getHsl(),o=n[0],q=n[1],r=n[2];r=k.targetDarkLuma,b.DarkVibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.LightVibrant&&null!==b.LightMuted){var t=b.LightMuted.getHsl();o=t[0],q=t[1],r=t[2],r=k.targetDarkLuma,b.DarkVibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}}if(null===b.Vibrant&&null!==b.DarkVibrant){var l=b.DarkVibrant.getHsl();o=l[0],q=l[1],r=l[2],r=k.targetNormalLuma,b.Vibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}else if(null===b.Vibrant&&null!==b.LightVibrant){var u=b.LightVibrant.getHsl();o=u[0],q=u[1],r=u[2],r=k.targetNormalLuma,b.Vibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.DarkVibrant&&null!==b.Vibrant){var h=b.Vibrant.getHsl();o=h[0],q=h[1],r=h[2],r=k.targetDarkLuma,b.DarkVibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.LightVibrant&&null!==b.Vibrant){var p=b.Vibrant.getHsl();o=p[0],q=p[1],r=p[2],r=k.targetLightLuma,b.LightVibrant=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.Muted&&null!==b.Vibrant){var d=b.Vibrant.getHsl();o=d[0],q=d[1],r=d[2],r=k.targetMutesSaturation,b.Muted=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.DarkMuted&&null!==b.DarkVibrant){var f=b.DarkVibrant.getHsl();o=f[0],q=f[1],r=f[2],r=k.targetMutesSaturation,b.DarkMuted=new e.Swatch(j.hslToRgb(o,q,r),0)}if(null===b.LightMuted&&null!==b.LightVibrant){var m=b.LightVibrant.getHsl();o=m[0],q=m[1],r=m[2],r=k.targetMutesSaturation,b.LightMuted=new e.Swatch(j.hslToRgb(o,q,r),0)}}(i,0,d),i}},function(a,b,c){var d=c(33),f=c(169),g=c(171);a.exports=function(a,b){return g(f(a,b,d),a+"")}},function(a,b,c){var d=c(170),f=bb;a.exports=function(b,g,h){return g=f(void 0===g?b.length-1:g,0),function(){for(var e=arguments,i=-1,j=f(e.length-g,0),a=Array(j);++i<j;)a[i]=e[g+i];i=-1;for(var c=Array(g+1);++i<g;)c[i]=e[i];return c[g]=h(a),d(b,this,c)}}},function(a){a.exports=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2]);}return a.apply(b,c)}},function(a,b,c){var d=c(172),e=c(174)(d);a.exports=e},function(a,b,c){var d=c(173),f=c(58),e=c(33),g=f?function(a,b){return f(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:e;a.exports=g},function(a){a.exports=function(a){return function(){return a}}},function(a){var b=Date.now;a.exports=function(a){var c=0,d=0;return function(){var e=b(),f=16-(e-d);if(!(d=e,0<f))c=0;else if(800<=++c)return arguments[0];return a.apply(void 0,arguments)}}},function(a,b,c){var d=c(8),f=c(11),g=c(22),h=c(3);a.exports=function(b,c,e){if(!h(e))return!1;var i=typeof c;return!("number"==i?!(f(e)&&g(c,e.length)):!("string"==i&&c in e))&&d(e[c],b)}},function(a,b,c){Object.defineProperty(b,"__esModule",{value:!0});var d=c(177);b.Default=d.default,b.combineFilters=function(a){return Array.isArray(a)&&0!==a.length?function(b,c,d,e){if(0===e)return!1;for(var f=0;f<a.length;f++)if(!a[f](b,c,d,e))return!1;return!0}:null}},function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c,d){return 125<=d&&!(250<a&&250<b&&250<c)}},function(b,d,e){var f,g=this&&this.__extends||(f=function(a,b){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}f(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),h=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b};Object.defineProperty(d,"__esModule",{value:!0});var i=e(179),j=h(e(180)),a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return g(b,a),b.prototype._initCanvas=function(){var a=this.image,b=this._canvas=document.createElement("canvas"),c=this._context=b.getContext("2d");b.className="vibrant-canvas",b.style.display="none",this._width=b.width=a.width,this._height=b.height=a.height,c.drawImage(a,0,0),document.body.appendChild(b)},b.prototype.load=function(a){var b,d,f,g,h,k,m=this,c=null,p=null;if("string"==typeof a)c=document.createElement("img"),h=a,null===(k=j.parse(h)).protocol&&null===k.host&&null===k.port||(b=window.location.href,d=a,f=j.parse(b),g=j.parse(d),f.protocol===g.protocol&&f.hostname===g.hostname&&f.port===g.port)||(c.crossOrigin="anonymous"),p=c.src=a;else{if(!(a instanceof HTMLImageElement))return Promise.reject(new Error("Cannot load buffer as an image in browser"));c=a,p=a.src}return this.image=c,new Promise(function(a,b){var d=function(){m._initCanvas(),a(m)};c.complete?d():(c.onload=d,c.onerror=function(){return b(new Error("Fail to load image: "+p))})})},b.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},b.prototype.update=function(a){this._context.putImageData(a,0,0)},b.prototype.getWidth=function(){return this._width},b.prototype.getHeight=function(){return this._height},b.prototype.resize=function(a,b,c){var d=this._canvas,e=this._context,f=this.image;this._width=d.width=a,this._height=d.height=b,e.scale(c,c),e.drawImage(f,0,0)},b.prototype.getPixelCount=function(){return this._width*this._height},b.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},b.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},b}(i.ImageBase);d.default=a},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c=function(){function a(){}return a.prototype.scaleDown=function(a){var b=this.getWidth(),c=this.getHeight(),d=1;if(0<a.maxDimension){var e=bb(b,c);e>a.maxDimension&&(d=a.maxDimension/e)}else d=1/a.quality;1>d&&this.resize(b*d,c*d,d)},a.prototype.applyFilter=function(a){var b=this.getImageData();if("function"==typeof a)for(var c=b.data,d=c.length/4,e=void 0,f=0;f<d;f++)a(c[(e=4*f)+0],c[e+1],c[e+2],c[e+3])||(c[e+3]=0);return Promise.resolve(b)},a}();b.ImageBase=c},function(a,b,c){function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function j(a,b,c){if(a&&G.isObject(a)&&a instanceof f)return a;var d=new f;return d.parse(a,b,c),d}var e=c(181),G=c(182);b.parse=j,b.resolve=function(a,b){return j(a,!1,!0).resolve(b)},b.resolveObject=function(a,b){return a?j(a,!1,!0).resolveObject(b):b},b.format=function(a){return G.isString(a)&&(a=j(a)),a instanceof f?a.format():f.prototype.format.call(a)},b.Url=f;var i=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),k=["'"].concat(i),l=["%","/","?",";","#"].concat(k),h=["/","?","#"],n=/^[+a-z0-9A-Z_-]{0,63}$/,d={javascript:!0,"javascript:":!0},s={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=c(183);f.prototype.parse=function(c,f,i){if(!G.isString(c))throw new TypeError("Parameter 'url' must be a string, not "+typeof c);var p=c.indexOf("?"),o=-1!==p&&p<c.indexOf("#")?"?":"#",a=c.split(o);a[0]=a[0].replace(/\\/g,"/");var r=c=a.join(o);if(r=r.trim(),!i&&1===c.split("#").length){var u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/.exec(r);if(u)return this.path=r,this.href=r,this.pathname=u[1],u[2]?(this.search=u[2],this.query=f?m.parse(this.search.substr(1)):this.search.substr(1)):f&&(this.search="",this.query={}),this}var b=/^([a-z0-9.+-]+:)/i.exec(r);if(b){var v=(b=b[0]).toLowerCase();this.protocol=v,r=r.substr(b.length)}if(i||b||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===r.substr(0,2);!x||b&&s[b]||(r=r.substr(2),this.slashes=!0)}if(!s[b]&&(x||b&&!g[b])){for(var J,K,Q=-1,W=0;W<h.length;W++)-1!==(X=r.indexOf(h[W]))&&(-1===Q||X<Q)&&(Q=X);for(-1!==(K=-1===Q?r.lastIndexOf("@"):r.lastIndexOf("@",Q))&&(J=r.slice(0,K),r=r.slice(K+1),this.auth=decodeURIComponent(J)),Q=-1,W=0;W<l.length;W++){var X;-1!==(X=r.indexOf(l[W]))&&(-1===Q||X<Q)&&(Q=X)}-1===Q&&(Q=r.length),this.host=r.slice(0,Q),r=r.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var Y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Y)for(var C,Z=this.hostname.split(/\./),M=(W=0,Z.length);W<M;W++)if(C=Z[W],C&&!C.match(n)){for(var _="",aa=0,ba=C.length;aa<ba;aa++)_+=127<C.charCodeAt(aa)?"x":C[aa];if(!_.match(n)){var V=Z.slice(0,W),N=Z.slice(W+1),L=C.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);L&&(V.push(L[1]),N.unshift(L[2])),N.length&&(r="/"+N.join(".")+r),this.hostname=V.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),Y||(this.hostname=e.toASCII(this.hostname));var z=this.port?":"+this.port:"",ca=this.hostname||"";this.host=ca+z,this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!d[v])for(W=0,M=k.length;W<M;W++){var R=k[W];if(-1!==r.indexOf(R)){var F=encodeURIComponent(R);F===R&&(F=escape(R)),r=r.split(R).join(F)}}var da=r.indexOf("#");-1!==da&&(this.hash=r.substr(da),r=r.slice(0,da));var B=r.indexOf("?");if(-1===B?f&&(this.search="",this.query={}):(this.search=r.substr(B),this.query=r.substr(B+1),f&&(this.query=m.parse(this.query)),r=r.slice(0,B)),r&&(this.pathname=r),g[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var q=this.search||"";this.path=z+q}return this.href=this.format(),this},f.prototype.format=function(){var b=this.auth||"";b&&(b=(b=encodeURIComponent(b)).replace(/%3A/i,":"),b+="@");var c=this.protocol||"",d=this.pathname||"",f=this.hash||"",h=!1,i="";this.host?h=b+this.host:this.hostname&&(h=b+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(h+=":"+this.port)),this.query&&G.isObject(this.query)&&Object.keys(this.query).length&&(i=m.stringify(this.query));var j=this.search||i&&"?"+i||"";return c&&":"!==c.substr(-1)&&(c+=":"),this.slashes||(!c||g[c])&&!1!==h?(h="//"+(h||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):h||(h=""),f&&"#"!==f.charAt(0)&&(f="#"+f),j&&"?"!==j.charAt(0)&&(j="?"+j),c+h+(d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(j=j.replace("#","%23"))+f},f.prototype.resolve=function(a){return this.resolveObject(j(a,!1,!0)).format()},f.prototype.resolveObject=function(i){if(G.isString(i)){var o=new f;o.parse(i,!1,!0),i=o}for(var e,q=new f,r=Object.keys(this),n=0;n<r.length;n++)e=r[n],q[e]=this[e];if(q.hash=i.hash,""===i.href)return q.href=q.format(),q;if(i.slashes&&!i.protocol){for(var v,z=Object.keys(i),c=0;c<z.length;c++)v=z[c],"protocol"!==v&&(q[v]=i[v]);return g[q.protocol]&&q.hostname&&!q.pathname&&(q.path=q.pathname="/"),q.href=q.format(),q}if(i.protocol&&i.protocol!==q.protocol){if(!g[i.protocol]){for(var A,B=Object.keys(i),h=0;h<B.length;h++)A=B[h],q[A]=i[A];return q.href=q.format(),q}if(q.protocol=i.protocol,i.host||s[i.protocol])q.pathname=i.pathname;else{for(var D=(i.pathname||"").split("/");D.length&&!(i.host=D.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),""!==D[0]&&D.unshift(""),2>D.length&&D.unshift(""),q.pathname=D.join("/")}if(q.search=i.search,q.query=i.query,q.host=i.host||"",q.auth=i.auth,q.hostname=i.hostname||i.host,q.port=i.port,q.pathname||q.search){var E=q.pathname||"",m=q.search||"";q.path=E+m}return q.slashes=q.slashes||i.slashes,q.href=q.format(),q}var F=q.pathname&&"/"===q.pathname.charAt(0),y=i.host||i.pathname&&"/"===i.pathname.charAt(0),b=y||F||q.host&&i.pathname,H=b,x=q.pathname&&q.pathname.split("/")||[],I=(D=i.pathname&&i.pathname.split("/")||[],q.protocol&&!g[q.protocol]);if(I&&(q.hostname="",q.port=null,q.host&&(""===x[0]?x[0]=q.host:x.unshift(q.host)),q.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(""===D[0]?D[0]=i.host:D.unshift(i.host)),i.host=null),b=b&&(""===D[0]||""===x[0])),y)q.host=i.host||""===i.host?i.host:q.host,q.hostname=i.hostname||""===i.hostname?i.hostname:q.hostname,q.search=i.search,q.query=i.query,x=D;else if(D.length)x||(x=[]),x.pop(),x=x.concat(D),q.search=i.search,q.query=i.query;else if(!G.isNullOrUndefined(i.search))return I&&(q.hostname=q.host=x.shift(),(N=!!(q.host&&0<q.host.indexOf("@"))&&q.host.split("@"))&&(q.auth=N.shift(),q.host=q.hostname=N.shift())),q.search=i.search,q.query=i.query,G.isNull(q.pathname)&&G.isNull(q.search)||(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.href=q.format(),q;if(!x.length)return q.pathname=null,q.path=q.search?"/"+q.search:null,q.href=q.format(),q;for(var J=x.slice(-1)[0],K=(q.host||i.host||1<x.length)&&("."===J||".."===J)||""===J,j=0,L=x.length;0<=L;L--)"."===(J=x[L])?x.splice(L,1):".."===J?(x.splice(L,1),j++):j&&(x.splice(L,1),j--);if(!b&&!H)for(;j--;j)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),K&&"/"!==x.join("/").substr(-1)&&x.push("");var N,Q=""===x[0]||x[0]&&"/"===x[0].charAt(0);return I&&(q.hostname=q.host=Q?"":x.length?x.shift():"",(N=!!(q.host&&0<q.host.indexOf("@"))&&q.host.split("@"))&&(q.auth=N.shift(),q.host=q.hostname=N.shift())),(b=b||q.host&&x.length)&&!Q&&x.unshift(""),x.length?q.pathname=x.join("/"):(q.pathname=null,q.path=null),G.isNull(q.pathname)&&G.isNull(q.search)||(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.auth=i.auth||q.auth,q.slashes=q.slashes||i.slashes,q.href=q.format(),q},f.prototype.parseHost=function(){var a=this.host,b=/:[0-9]*$/.exec(a);b&&(":"!==(b=b[0])&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},function(a,c,e){(function(j,l){var n;!function(){function q(a){throw new RangeError(h[a])}function i(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";return 1<c.length&&(d=c[0]+"@",a=c[1]),d+i((a=a.replace(s,".")).split("."),b).join(".")}function m(a){for(var b,c,d=[],f=0,g=a.length;f<g;)55296<=(b=a.charCodeAt(f++))&&56319>=b&&f<g?56320==(64512&(c=a.charCodeAt(f++)))?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),f--):d.push(b);return d}function z(a){return i(a,function(a){var b="";return 65535<a&&(b+=d(55296|1023&(a-=65536)>>>10),a=56320|1023&a),b+=d(a)}).join("")}function t(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function A(a,b,c){var d=0;for(a=c?w(a/700):a>>1,a+=w(a/b);455<a;d+=36)a=w(a/35);return w(d+36*a/(a+38))}function b(c){var d,j,k,m,t,x,y,B,C,D,E,F=[],f=c.length,g=0,G=128,H=72;for(0>(j=c.lastIndexOf("-"))&&(j=0),k=0;k<j;++k)128<=c.charCodeAt(k)&&q("not-basic"),F.push(c.charCodeAt(k));for(m=0<j?j+1:0;m<f;){for(t=g,x=1,y=36;m>=f&&q("invalid-input"),(36<=(B=10>(E=c.charCodeAt(m++))-48?E-22:26>E-65?E-65:26>E-97?E-97:36)||B>w((2147483647-g)/x))&&q("overflow"),g+=B*x,!(B<(C=y<=H?1:y>=H+26?26:y-H));y+=36)x>w(2147483647/(D=36-C))&&q("overflow"),x*=D;H=A(g-t,d=F.length+1,0==t),w(g/d)>2147483647-G&&q("overflow"),G+=w(g/d),g%=d,F.splice(g++,0,G)}return z(F)}function o(b){var c,f,j,z,B,C,D,E,F,G,H,I,J,K,L,M=[];for(I=(b=m(b)).length,c=128,f=0,B=72,C=0;C<I;++C)128>(H=b[C])&&M.push(d(H));for(j=z=M.length,z&&M.push("-");j<I;){for(D=2147483647,C=0;C<I;++C)(H=b[C])>=c&&H<D&&(D=H);for(D-c>w((2147483647-f)/(J=j+1))&&q("overflow"),f+=(D-c)*J,c=D,C=0;C<I;++C)if((H=b[C])<c&&++f>2147483647&&q("overflow"),H==c){for(E=f,F=36;!(E<(G=F<=B?1:F>=B+26?26:F-B));F+=36)L=E-G,K=36-G,M.push(d(t(G+L%K,0))),E=w(L/K);M.push(d(t(E,0))),B=A(f,J,j==z),f=0,++j}++f,++c}return M.join("")}c&&c.nodeType,j&&j.nodeType;var k="object"==typeof l&&l;k.global!==k&&k.window!==k&&k.self;var r,s=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=Math.floor,d=D;r={version:"1.4.1",ucs2:{decode:m,encode:z},decode:b,encode:o,toASCII:function(a){return g(a,function(a){return /[^\x20-\x7E]/.test(a)?"xn--"+o(a):a})},toUnicode:function(a){return g(a,function(a){return /^xn--/.test(a)?b(a.slice(4).toLowerCase()):a})}},void 0===(n=function(){return r}.call(c,e,c,j))||(j.exports=n)}()}).call(this,e(10)(a),e(19))},function(a){a.exports={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},function(a,b,c){b.decode=b.parse=c(184),b.encode=b.stringify=c(185)},function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}a.exports=function(a,i,j,k){i=i||"&",j=j||"=";var n={};if("string"!=typeof a||0===a.length)return n;a=a.split(i);var o=1e3;k&&"number"==typeof k.maxKeys&&(o=k.maxKeys);var q=a.length;0<o&&q>o&&(q=o);for(var s=0;s<q;++s){var v,w,x,y,z=a[s].replace(/\+/g,"%20"),m=z.indexOf(j);0<=m?(v=z.substr(0,m),w=z.substr(m+1)):(v=z,w=""),x=decodeURIComponent(v),y=decodeURIComponent(w),b(n,x)?c(n[x])?n[x].push(y):n[x]=[n[x],y]:n[x]=y}return n};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},function(a){function b(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var c=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return"";}};a.exports=function(g,h,i,j){return h=h||"&",i=i||"=",null===g&&(g=void 0),"object"==typeof g?b(f(g),function(e){var f=encodeURIComponent(c(e))+i;return d(g[e])?b(g[e],function(a){return f+encodeURIComponent(c(a))}).join(h):f+encodeURIComponent(c(g[e]))}).join(h):j?encodeURIComponent(c(j))+i+encodeURIComponent(c(g)):""};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},function(){customElements.get("ha-slider")||customElements.define("ha-slider",class extends customElements.get("paper-slider"){}),customElements.get("ha-icon-button")||customElements.define("ha-icon-button",class extends customElements.get("paper-icon-button"){}),customElements.get("ha-icon")||customElements.define("ha-icon",class extends customElements.get("iron-icon"){})},function(eb,t,fb){function gb(b,d){for(var{element:{content:f},parts:e}=b,g=document.createTreeWalker(f,133,null,!1),h=tb(e),i=e[h],j=-1,k=0,m=[],l=null;g.nextNode();){j++;var n=g.currentNode;for(n.previousSibling===l&&(l=null),d.has(n)&&(m.push(n),null===l&&(l=n)),null!==l&&k++;void 0!==i&&i.index===j;)i.index=null===l?i.index-k:-1,h=tb(e,h),i=e[h]}m.forEach(a=>a.parentNode.removeChild(a))}function hb(a){var b=Nb.get(a.type);void 0===b&&(b={stringsArray:new WeakMap,keyString:new Map},Nb.set(a.type,b));var c=b.stringsArray.get(a.strings);if(void 0!==c)return c;var d=a.strings.join(kb);return c=b.keyString.get(d),void 0===c&&(c=new nb(a,a.getTemplateElement()),b.keyString.set(d,c)),b.stringsArray.set(a.strings,c),c}fb.r(t);var ib="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,jb=function(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;b!==c;){var d=b.nextSibling;a.removeChild(b),b=d}},kb="{{lit-".concat((Math.random()+"").slice(2),"}}"),lb="<!--".concat(kb,"-->"),mb=new RegExp("".concat(kb,"|").concat(lb));class nb{constructor(a,b){this.parts=[],this.element=b;for(var e=[],g=[],h=document.createTreeWalker(b.content,133,null,!1),i=0,j=-1,k=0,{strings:l,values:{length:d}}=a;k<d;){var v=h.nextNode();if(!(null!==v))h.currentNode=g.pop();else if(j++,1===v.nodeType){if(v.hasAttributes()){for(var f=v.attributes,{length:m}=f,n=0,o=0;o<m;o++)ob(f[o].name,"$lit$")&&n++;for(;0<n--;){var w=l[k],x=rb.exec(w)[2],y=x.toLowerCase()+"$lit$",z=v.getAttribute(y);v.removeAttribute(y);var A=z.split(mb);this.parts.push({type:"attribute",index:j,name:x,strings:A}),k+=A.length-1}}"TEMPLATE"===v.tagName&&(g.push(v),h.currentNode=v.content)}else if(3===v.nodeType){var B=v.data;if(0<=B.indexOf(kb)){for(var p=v.parentNode,q=B.split(mb),r=q.length-1,t=0;t<r;t++){var C=void 0,D=q[t];if(""===D)C=qb();else{var E=rb.exec(D);null!==E&&ob(E[2],"$lit$")&&(D=D.slice(0,E.index)+E[1]+E[2].slice(0,-5)+E[3]),C=document.createTextNode(D)}p.insertBefore(C,v),this.parts.push({type:"node",index:++j})}""===q[r]?(p.insertBefore(qb(),v),e.push(v)):v.data=q[r],k+=r}}else if(8===v.nodeType)if(v.data===kb){var F=v.parentNode;null!==v.previousSibling&&j!==i||(j++,F.insertBefore(qb(),v)),i=j,this.parts.push({type:"node",index:j}),null===v.nextSibling?v.data="":(e.push(v),j--),k++}else for(var G=-1;-1!==(G=v.data.indexOf(kb,G+1));)this.parts.push({type:"node",index:-1}),k++}for(var H of e)H.parentNode.removeChild(H)}}var ob=(a,b)=>{var c=a.length-b.length;return 0<=c&&a.slice(c)===b},pb=a=>-1!==a.index,qb=()=>document.createComment(""),rb=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,sb=a=>{for(var b=11===a.nodeType?0:1,c=document.createTreeWalker(a,133,null,!1);c.nextNode();)b++;return b},tb=function(a){for(var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,d=c+1;d<a.length;d++)if(b=a[d],pb(b))return d;return-1},ub=new WeakMap,vb=a=>function(){var b=a(...arguments);return ub.set(b,!0),b},wb=a=>"function"==typeof a&&ub.has(a),xb={},yb={};class zb{constructor(a,b,c){this.__parts=[],this.template=a,this.processor=b,this.options=c}update(a){var b=0;for(var c of this.__parts)void 0!==c&&c.setValue(a[b]),b++;for(var d of this.__parts)void 0!==d&&d.commit()}_clone(){for(var b,d=ib?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),f=[],e=this.template.parts,g=document.createTreeWalker(d,133,null,!1),h=0,i=0,j=g.nextNode();h<e.length;)if(b=e[h],pb(b)){for(;i<b.index;)i++,"TEMPLATE"===j.nodeName&&(f.push(j),g.currentNode=j.content),null===(j=g.nextNode())&&(g.currentNode=f.pop(),j=g.nextNode());if("node"===b.type){var k=this.processor.handleTextExpression(this.options);k.insertAfterNode(j.previousSibling),this.__parts.push(k)}else this.__parts.push(...this.processor.handleAttributeExpressions(j,b.name,b.strings,this.options));h++}else this.__parts.push(void 0),h++;return ib&&(document.adoptNode(d),customElements.upgrade(d)),d}}var Ab=" ".concat(kb," ");class Bb{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){for(var a=this.strings.length-1,b="",c=!1,d=0;d<a;d++){var f=this.strings[d],g=f.lastIndexOf("<!--");c=(-1<g||c)&&-1===f.indexOf("-->",g+1);var h=rb.exec(f);b+=null===h?f+(c?Ab:lb):f.substr(0,h.index)+h[1]+h[2]+"$lit$"+h[3]+kb}return b+=this.strings[a],b}getTemplateElement(){var a=document.createElement("template");return a.innerHTML=this.getHTML(),a}}var Cb=a=>null===a||"object"!=typeof a&&"function"!=typeof a,Db=a=>Array.isArray(a)||a&&a[Symbol.iterator];class Eb{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(var d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new Fb(this)}_getValue(){for(var a=this.strings,b=a.length-1,c="",d=0;d<b;d++){c+=a[d];var e=this.parts[d];if(void 0!==e){var f=e.value;if(Cb(f)||!Db(f))c+="string"==typeof f?f:f+"";else for(var g of f)c+="string"==typeof g?g:g+""}}return c+=a[b],c}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Fb{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===xb||Cb(a)&&a===this.value||(this.value=a,wb(a)||(this.committer.dirty=!0))}commit(){for(;wb(this.value);){var a=this.value;this.value=xb,a(this)}this.value!==xb&&this.committer.commit()}}class Gb{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(qb()),this.endNode=a.appendChild(qb())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=qb()),a.__insert(this.endNode=qb())}insertAfterPart(a){a.__insert(this.startNode=qb()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(null!==this.startNode.parentNode){for(;wb(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=xb,b(this)}var a=this.__pendingValue;a!==xb&&(Cb(a)?a!==this.value&&this.__commitText(a):a instanceof Bb?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):Db(a)?this.__commitIterable(a):a===yb?(this.value=yb,this.clear()):this.__commitText(a))}}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){this.value!==a&&(this.clear(),this.__insert(a),this.value=a)}__commitText(a){var b=this.startNode.nextSibling,c="string"==typeof(a=null==a?"":a)?a:a+"";b===this.endNode.previousSibling&&3===b.nodeType?b.data=c:this.__commitNode(document.createTextNode(c)),this.value=a}__commitTemplateResult(a){var b=this.options.templateFactory(a);if(this.value instanceof zb&&this.value.template===b)this.value.update(a.values);else{var c=new zb(b,a.processor,this.options),d=c._clone();c.update(a.values),this.__commitNode(d),this.value=c}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());var b,c=this.value,d=0;for(var e of a)b=c[d],void 0===b&&(b=new Gb(this.options),c.push(b),0===d?b.appendIntoPart(this):b.insertAfterPart(c[d-1])),b.setValue(e),b.commit(),d++;d<c.length&&(c.length=d,this.clear(b&&b.endNode))}clear(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;jb(this.startNode.parentNode,a.nextSibling,this.endNode)}}class Hb{constructor(a,b,c){if(this.value=void 0,this.__pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this.__pendingValue=a}commit(){for(;wb(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=xb,b(this)}if(this.__pendingValue!==xb){var a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=xb}}}class Ib extends Eb{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new Jb(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Jb extends Fb{}var Kb=!1;(()=>{try{var a={get capture(){return Kb=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class Lb{constructor(a,b,c){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this.__boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this.__pendingValue=a}commit(){for(;wb(this.__pendingValue);){var d=this.__pendingValue;this.__pendingValue=xb,d(this)}if(this.__pendingValue!==xb){var a=this.__pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),null!=a&&(null==b||c)&&(this.__options=Mb(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=xb}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}var Mb=a=>a&&(Kb?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),Nb=new Map,Ob=new WeakMap,Pb=new class{handleAttributeExpressions(a,b,c,d){var e=b[0];return"."===e?new Ib(a,b.slice(1),c).parts:"@"===e?[new Lb(a,b.slice(1),d.eventContext)]:"?"===e?[new Hb(a,b.slice(1),c)]:new Eb(a,b,c).parts}handleTextExpression(a){return new Gb(a)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");var Qb=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new Bb(a,c,"html",Pb)},Rb=(a,b)=>"".concat(a,"--").concat(b),Sb=!0;void 0===window.ShadyCSS?Sb=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Sb=!1);var Tb=a=>b=>{var c=Rb(b.type,a),d=Nb.get(c);void 0===d&&(d={stringsArray:new WeakMap,keyString:new Map},Nb.set(c,d));var e=d.stringsArray.get(b.strings);if(void 0!==e)return e;var f=b.strings.join(kb);if(e=d.keyString.get(f),void 0===e){var g=b.getTemplateElement();Sb&&window.ShadyCSS.prepareTemplateDom(g,a),e=new nb(b,g),d.keyString.set(f,e)}return d.stringsArray.set(b.strings,e),e},Ub=["html","svg"],Vb=new Set,Wb=(b,d,e)=>{Vb.add(b);var f=e?e.element:document.createElement("template"),g=d.querySelectorAll("style"),{length:h}=g;if(0===h)return void window.ShadyCSS.prepareTemplateStyles(f,b);for(var i,j=document.createElement("style"),k=0;k<h;k++)i=g[k],i.parentNode.removeChild(i),j.textContent+=i.textContent;(a=>{Ub.forEach(b=>{var c=Nb.get(Rb(b,a));void 0!==c&&c.keyString.forEach(a=>{var{element:{content:b}}=a,c=new Set;Array.from(b.querySelectorAll("style")).forEach(a=>{c.add(a)}),gb(a,c)})})})(b);var l=f.content;e?function(b,d){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,{element:{content:g},parts:f}=b;if(null==e)return void g.appendChild(d);for(var h=document.createTreeWalker(g,133,null,!1),i=tb(f),j=0,k=-1;h.nextNode();)for(k++,h.currentNode===e&&(j=sb(d),e.parentNode.insertBefore(d,e));-1!==i&&f[i].index===k;){if(0<j){for(;-1!==i;)f[i].index+=j,i=tb(f,i);return}i=tb(f,i)}}(e,j,l.firstChild):l.insertBefore(j,l.firstChild),window.ShadyCSS.prepareTemplateStyles(f,b);var a=l.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)d.insertBefore(a.cloneNode(!0),d.firstChild);else if(e){l.insertBefore(j,l.firstChild);var c=new Set;c.add(j),gb(e,c)}};window.JSCompiler_renameProperty=a=>a;var Xb={toAttribute(a,b){return b===Boolean?a?"":null:b===Object||b===Array?null==a?a:JSON.stringify(a):a},fromAttribute(a,b){return b===Boolean?null!==a:b===Number?null===a?null:+a:b===Object||b===Array?JSON.parse(a):a}},Yb=(a,b)=>b!==a&&(b==b||a==a),Zb={attribute:!0,type:String,converter:Xb,reflect:!1,hasChanged:Yb};class $b extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(a=>this._enableUpdatingResolver=a),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();var a=[];return this._classProperties.forEach((b,c)=>{var d=this._attributeNameForProperty(c,b);void 0!==d&&(this._attributeToPropertyMap.set(d,c),a.push(d))}),a}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var a=Object.getPrototypeOf(this)._classProperties;void 0!==a&&a.forEach((a,b)=>this._classProperties.set(b,a))}}static createProperty(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:Zb;if(this._ensureClassProperties(),this._classProperties.set(a,b),!(b.noAccessor||this.prototype.hasOwnProperty(a))){var c="symbol"==typeof a?Symbol():"__"+a,d=this.getPropertyDescriptor(a,c,b);void 0!==d&&Object.defineProperty(this.prototype,a,d)}}static getPropertyDescriptor(a,b){return{get(){return this[b]},set(c){var d=this[a];this[b]=c,this._requestUpdate(a,d)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this._classProperties&&this._classProperties.get(a)||Zb}static finalize(){var a=Object.getPrototypeOf(this);if(a.hasOwnProperty("finalized")||a.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var b=this.properties,c=[...Object.getOwnPropertyNames(b),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b):[])];for(var d of c)this.createProperty(d,b[d])}}static _attributeNameForProperty(a,b){var c=b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Yb;return c(a,b)}static _propertyValueFromAttribute(a,b){var c=b.type,d=b.converter||Xb,e="function"==typeof d?d:d.fromAttribute;return e?e(a,c):a}static _propertyValueToAttribute(a,b){if(void 0!==b.reflect){var c=b.type,d=b.converter;return(d&&d.toAttribute||Xb.toAttribute)(a,c)}}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((a,b)=>{if(this.hasOwnProperty(b)){var c=this[b];delete this[b],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(b,c)}})}_applyInstanceProperties(){this._instanceProperties.forEach((a,b)=>this[b]=a),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Zb,d=this.constructor,e=d._attributeNameForProperty(a,c);if(void 0!==e){var f=d._propertyValueToAttribute(b,c);if(void 0===f)return;this._updateState=8|this._updateState,null==f?this.removeAttribute(e):this.setAttribute(e,f),this._updateState=-9&this._updateState}}_attributeToProperty(a,b){if(!(8&this._updateState)){var c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){var e=c.getPropertyOptions(d);this._updateState=16|this._updateState,this[d]=c._propertyValueFromAttribute(b,e),this._updateState=-17&this._updateState}}}_requestUpdate(a,b){var c=!0;if(void 0!==a){var d=this.constructor,e=d.getPropertyOptions(a);d._valueHasChanged(this[a],b,e.hasChanged)?(this._changedProperties.has(a)||this._changedProperties.set(a,b),!0!==e.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,e))):c=!1}!this._hasRequestedUpdate&&c&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(a,b){return this._requestUpdate(a,b),this.updateComplete}_enqueueUpdate(){var a=this;return db(function*(){a._updateState=4|a._updateState;try{yield a._updatePromise}catch(a){}var b=a.performUpdate();return null!=b&&(yield b),!a._hasRequestedUpdate})()}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();var a=!1,b=this._changedProperties;try{a=this.shouldUpdate(b),a?this.update(b):this._markUpdated()}catch(b){throw a=!1,this._markUpdated(),b}a&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(b)),this.updated(b))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){void 0!==this._reflectingProperties&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach((a,b)=>this._propertyToAttribute(b,this[b],a)),this._reflectingProperties=void 0),this._markUpdated()}updated(){}firstUpdated(){}}$b.finalized=!0;var _b="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ac=Symbol();class bc{constructor(a,b){if(b!==ac)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){return void 0===this._styleSheet&&(_b?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}var cc=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=c.reduce((b,c,d)=>b+(a=>{if(a instanceof bc)return a.cssText;if("number"==typeof a)return a;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(a,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))})(c)+a[d+1],a[0]);return new bc(e,ac)};(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");var dc={};class ec extends $b{static getStyles(){return this.styles}static _getUniqueStyles(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var a=this.getStyles();if(void 0===a)this._styles=[];else if(Array.isArray(a)){var b=(a,c)=>a.reduceRight((a,c)=>Array.isArray(c)?b(c,a):(a.add(c),a),c),c=b(a,new Set),d=[];c.forEach(a=>d.unshift(a)),this._styles=d}else this._styles=[a]}}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){var a=this.constructor._styles;0!==a.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?_b?this.renderRoot.adoptedStyleSheets=a.map(a=>a.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(a.map(a=>a.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(a){var b=this.render();super.update(a),b!==dc&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(a=>{var b=document.createElement("style");b.textContent=a.cssText,this.renderRoot.appendChild(b)}))}render(){return dc}}ec.finalized=!0,ec.render=(b,d,e)=>{if(!e||"object"!=typeof e||!e.scopeName)throw new Error("The `scopeName` option is required.");var f=e.scopeName,g=Ob.has(d),h=Sb&&11===d.nodeType&&!!d.host,i=h&&!Vb.has(f),a=i?document.createDocumentFragment():d;if(((a,b,c)=>{var d=Ob.get(b);void 0===d&&(jb(b,b.firstChild),Ob.set(b,d=new Gb(Object.assign({templateFactory:hb},c))),d.appendInto(b)),d.setValue(a),d.commit()})(b,a,Object.assign({templateFactory:Tb(f)},e)),i){var c=Ob.get(a);Ob.delete(a);var j=c.value instanceof zb?c.value.template:void 0;Wb(f,a,j),jb(d,d.firstChild),d.appendChild(a),Ob.set(d,c)}!g&&h&&window.ShadyCSS.styleElement(d.host)};class fc{constructor(a){this.classes=new Set,this.changed=!1,this.element=a;var b=(a.getAttribute("class")||"").split(/\s+/);for(var c of b)this.classes.add(c)}add(a){this.classes.add(a),this.changed=!0}remove(a){this.classes.delete(a),this.changed=!0}commit(){if(this.changed){var a="";this.classes.forEach(b=>a+=b+" "),this.element.setAttribute("class",a)}}}var gc=new WeakMap,hc=vb(a=>b=>{if(!(b instanceof Fb)||b instanceof Jb||"class"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var{committer:c}=b,{element:d}=c,f=gc.get(b);void 0===f&&(d.setAttribute("class",c.strings.join(" ")),gc.set(b,f=new Set));var g=d.classList||new fc(d);for(var e in f.forEach(b=>{b in a||(g.remove(b),f.delete(b))}),a){var h=a[e];h!=f.has(e)&&(h?(g.add(e),f.add(e)):(g.remove(e),f.delete(e)))}"function"==typeof g.commit&&g.commit()}),ic=new WeakMap,jc=vb(a=>b=>{if(!(b instanceof Fb)||b instanceof Jb||"style"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var{committer:c}=b,{style:d}=c.element,f=ic.get(b);for(var e in void 0===f&&(d.cssText=c.strings.join(" "),ic.set(b,f=new Set)),f.forEach(b=>{b in a||(f.delete(b),-1===b.indexOf("-")?d[b]=null:d.removeProperty(b))}),a)f.add(e),-1===e.indexOf("-")?d[e]=a[e]:d.setProperty(e,a[e])}),kc=fb(62),lc={repeat:!0,shuffle:!0,power_state:!0,artwork_border:!0,icon_state:!0,sound_mode:!0,runtime:!0,runtime_remaining:!0,volume:!1,volume_level:!0,controls:!1,play_pause:!1,play_stop:!0,prev:!1,next:!1,jump:!0,state_label:!1},mc={OFF:"off",ALL:"all",ONE:"one"},nc="mdi:chevron-down",oc={true:"mdi:volume-off",false:"mdi:volume-high"},pc="mdi:skip-next",qc={true:"mdi:pause",false:"mdi:play"},rc="mdi:power",sc="mdi:skip-previous",tc="mdi:shuffle",uc={[mc.OFF]:"mdi:repeat-off",[mc.ONE]:"mdi:repeat-once",[mc.ALL]:"mdi:repeat"},vc={true:"mdi:stop",false:"mdi:play"},wc="mdi:volume-minus",xc="mdi:volume-plus",yc="mdi:fast-forward",zc="mdi:rewind",Ac=["entity","groupMgmtEntity","_overflow","break","thumbnail","prevThumbnail","edit","idle","cardHeight","backgroundColor","foregroundColor"],Bc=["media_duration","media_position","media_position_updated_at"],Cc=[{attr:"media_title"},{attr:"media_artist"},{attr:"media_series_title"},{attr:"media_season",prefix:"S"},{attr:"media_episode",prefix:"E"},{attr:"app_name"}],Dc="squeezebox",Ec="soundtouch",Fc="media_player",Gc=a=>{(a=>{if(!a.entity||"media_player"!==a.entity.split(".")[0])throw new Error("Specify an entity from within the media_player domain.")})(a);var b=ab(ab({artwork:"default",info:"default",group:!1,volume_stateless:!1,more_info:!0,source:"default",sound_mode:"default",toggle_power:!0,volume_step:null,tap_action:{action:"more-info"},jump_amount:10},a),{},{hide:ab(ab({},lc),a.hide),speaker_group:ab(ab({show_group_count:!0,platform:"sonos",supports_master:!0},a.sonos),a.speaker_group),shortcuts:ab({label:"Shortcuts..."},a.shortcuts)});return b.max_volume=+b.max_volume||100,b.min_volume=+b.min_volume||0,b.collapse=b.hide.controls||b.hide.volume,b.info=b.collapse&&"scroll"!==b.info?"short":b.info,b.flow=b.hide.icon&&b.hide.name&&b.hide.info,b},Hc=a=>{var b="";return[].slice.call(new Uint8Array(a)).forEach(a=>b+=D(a)),window.btoa(b)};class Ic{constructor(a,b,c){this.hass=a||{},this.config=b||{},this.entity=c||{},this.entityId=c&&c.entity_id||this.config.entity,this.state=c.state,this.attr=c.attributes,this.idle=!!b.idle_view&&this.idleView,this.active=this.isActive}get id(){return this.entity.entity_id}get icon(){return this.attr.icon}get isPaused(){return"paused"===this.state}get isPlaying(){return"playing"===this.state}get isIdle(){return"idle"===this.state}get isStandby(){return"standby"===this.state}get isUnavailable(){return"unavailable"===this.state}get isOff(){return"off"===this.state}get isActive(){return!this.isOff&&!this.isUnavailable&&!this.idle||!1}get shuffle(){return this.attr.shuffle||!1}get repeat(){return this.attr.repeat||mc.OFF}get content(){return this.attr.media_content_type||"none"}get mediaDuration(){return this.attr.media_duration||0}get updatedAt(){return this.attr.media_position_updated_at||0}get position(){return this.attr.media_position||0}get name(){return this.attr.friendly_name||""}get groupCount(){return this.group.length}get isGrouped(){return 1<this.group.length}get group(){return this.platform===Dc?this.attr.sync_group||[]:this.platform===Fc?this.attr.group_members||[]:this.attr[this.platform+"_group"]||[]}get platform(){return this.config.speaker_group.platform}get master(){return this.supportsMaster&&this.group[0]||this.entityId}get isMaster(){return this.master===this.entityId}get sources(){return this.attr.source_list||[]}get source(){return this.attr.source||""}get soundModes(){return this.attr.sound_mode_list||[]}get soundMode(){return this.attr.sound_mode||""}get muted(){return this.attr.is_volume_muted||!1}get vol(){return this.attr.volume_level||0}get picture(){return this.attr.entity_picture_local||this.attr.entity_picture}get hasArtwork(){return this.picture&&"none"!==this.config.artwork&&this.active&&!this.idle}get mediaInfo(){return Cc.map(a=>ab({text:this.attr[a.attr],prefix:""},a)).filter(a=>a.text)}get hasProgress(){return!this.config.hide.progress&&!this.idle&&Bc.every(a=>a in this.attr)}get supportsPrev(){return(16|this.attr.supported_features)===this.attr.supported_features}get supportsNext(){return(32|this.attr.supported_features)===this.attr.supported_features}get progress(){return this.isPlaying?this.position+(Date.now()-new Date(this.updatedAt).getTime())/1e3:this.position}get idleView(){var a=this.config.idle_view;return!!(a.when_idle&&this.isIdle||a.when_standby&&this.isStandby||a.when_paused&&this.isPaused)||this.updatedAt&&a.after&&!this.isPlaying&&this.checkIdleAfter(a.after)}get trackIdle(){return this.active&&!this.isPlaying&&this.updatedAt&&this.config.idle_view&&this.config.idle_view.after}checkIdleAfter(a){var b=(Date.now()-new Date(this.updatedAt).getTime())/1e3;return this.idle=b>60*a,this.active=this.isActive,this.idle}get supportsShuffle(){return void 0!==this.attr.shuffle}get supportsRepeat(){return void 0!==this.attr.repeat}get supportsMute(){return void 0!==this.attr.is_volume_muted}get supportsVolumeSet(){return void 0!==this.attr.volume_level}get supportsMaster(){return this.platform!==Dc&&this.config.speaker_group.supports_master}fetchArtwork(){var a=this;return db(function*(){var b=a.attr.entity_picture_local?a.hass.hassUrl(a.picture):a.picture;try{var c=yield fetch(new Request(b)),d=yield c.arrayBuffer(),e=Hc(d);return"url(data:".concat(c.headers.get("Content-Type")||"image/jpeg",";base64,").concat(e,")")}catch(a){return!1}})()}getAttribute(a){return this.attr[a]||""}toggle(a){return this.config.toggle_power?this.callService(a,"toggle"):this.isOff?this.callService(a,"turn_on"):void this.callService(a,"turn_off")}toggleMute(a){this.config.speaker_group.sync_volume?this.group.forEach(b=>{this.callService(a,"volume_mute",{entity_id:b,is_volume_muted:!this.muted})}):this.callService(a,"volume_mute",{is_volume_muted:!this.muted})}toggleShuffle(a){this.callService(a,"shuffle_set",{shuffle:!this.shuffle})}toggleRepeat(a){var b=Object.values(mc),{length:c}=b,d=b.indexOf(this.repeat)-1,e=b[(d-1%c+c)%c];this.callService(a,"repeat_set",{repeat:e})}setSource(a,b){this.callService(a,"select_source",{source:b})}setMedia(a,b){this.callService(a,"play_media",ab({},b))}playPause(a){this.callService(a,"media_play_pause")}playStop(a){this.isPlaying?this.callService(a,"media_stop"):this.callService(a,"media_play")}setSoundMode(a,b){this.callService(a,"select_sound_mode",{sound_mode:b})}next(a){this.callService(a,"media_next_track")}prev(a){this.callService(a,"media_previous_track")}stop(a){this.callService(a,"media_stop")}volumeUp(a){this.supportsVolumeSet&&0<this.config.volume_step?this.callService(a,"volume_set",{entity_id:this.entityId,volume_level:_a(this.vol+this.config.volume_step/100,1)}):this.callService(a,"volume_up")}volumeDown(a){this.supportsVolumeSet&&0<this.config.volume_step?this.callService(a,"volume_set",{entity_id:this.entityId,volume_level:bb(this.vol-this.config.volume_step/100,0)}):this.callService(a,"volume_down")}seek(a,b){this.callService(a,"media_seek",{seek_position:b})}jump(a,b){var c=this.progress+b,d=_a(bb(c,0),this.mediaDuration||c);this.callService(a,"media_seek",{seek_position:d})}setVolume(a,b){this.config.speaker_group.sync_volume?this.group.forEach(c=>{var d=this.config.speaker_group.entities.find(a=>a.entity_id===c)||{},e=b;d.volume_offset&&(e+=d.volume_offset/100,1<e&&(e=1),0>e&&(e=0)),this.callService(a,"volume_set",{entity_id:c,volume_level:e})}):this.callService(a,"volume_set",{entity_id:this.entityId,volume_level:b})}handleGroupChange(a,b,c){var{platform:d}=this,e={entity_id:b};if(c)switch(e.master=this.entityId,d){case Ec:return this.handleSoundtouch(a,this.isGrouped?"ADD_ZONE_SLAVE":"CREATE_ZONE",b);case Dc:return this.callService(a,"sync",{entity_id:this.entityId,other_player:b},Dc);case Fc:return this.callService(a,"join",{entity_id:this.entityId,group_members:b},d);default:return this.callService(a,"join",e,d);}else return d===Ec?this.handleSoundtouch(a,"REMOVE_ZONE_SLAVE",b):d===Dc?this.callService(a,"unsync",e,Dc):d===Fc?this.callService(a,"unjoin",{entity_id:b},d):this.callService(a,"unjoin",e,d)}handleSoundtouch(a,b,c){return this.callService(a,b,{master:this.master,slaves:c},Ec,!0)}toggleScript(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};this.callService(a,b.split(".").pop(),ab({},c),"script")}toggleService(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};a.stopPropagation();var[d,e]=b.split(".");this.hass.callService(d,e,ab({},c))}callService(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"media_player",e=!!(4<arguments.length&&arguments[4]!==void 0)&&arguments[4];a.stopPropagation(),this.hass.callService(d,b,ab(ab({},!e&&{entity_id:this.entityId}),c))}}var Jc=cc(Za()),Kc=cc(Ya()),Lc=(a,b,c,d,e)=>{var f;switch(d.action){case"more-info":f=new Event("hass-more-info",{composed:!0}),f.detail={entityId:d.entity||e},a.dispatchEvent(f);break;case"navigate":if(!d.navigation_path)return;window.history.pushState(null,"",d.navigation_path),f=new Event("location-changed",{composed:!0}),f.detail={replace:!1},window.dispatchEvent(f);break;case"call-service":{if(!d.service)return;var[h,i]=d.service.split(".",2),g=ab({},d.service_data);b.callService(h,i,g);break}case"url":if(!d.url)return;d.new_tab?window.open(d.url,"_blank"):window.location.href=d.url;break;case"fire-dom-event":f=new Event("ll-custom",{composed:!0,bubbles:!0}),f.detail=d,a.dispatchEvent(f);}d.haptic&&((a,b)=>{var c=new Event("haptic",{composed:!0});c.detail={haptic:b},a.dispatchEvent(c)})(a,d.haptic)},Mc=fb(63),Nc=(a,b,c)=>{var d=[a,b,c].map(a=>{var b=a;return b/=255,.03928>=b?b/12.92:((b+.055)/1.055)**2.4});return .2126*d[0]+.7152*d[1]+.0722*d[2]},Oc=(a,b)=>$a(100*(((a,b)=>{var c=Nc(...a),d=Nc(...b);return(bb(c,d)+.05)/(_a(c,d)+.05)})(a,b)+Number.EPSILON))/100,Pc=a=>{function b(a){return e.has(a)||e.set(a,Oc(d.rgb,a.rgb)),4.5<e.get(a)}a.sort((a,b)=>b.population-a.population);for(var c,d=a[0],e=new Map,f=1;f<a.length&&void 0===c;f+=1){if(b(a[f])){c=a[f].hex;break}for(var g,h=a[f],i=f+1;i<a.length;i+=1)if(g=a[i],150>=cb(h.rgb[0]-g.rgb[0])+cb(h.rgb[1]-g.rgb[1])+cb(h.rgb[2]-g.rgb[2])&&b(g)&&b(g)){c=g.hex;break}}return void 0===c&&(c=d.bodyTextColor),[c,d.hex]};fb(186);var Qc={en:{placeholder:{tts:"Text to speech"},label:{leave:"Leave",ungroup:"Ungroup",group_all:"Group all",send:"Send",master:"Master"},state:{idle:"Idle",unavailable:"Unavailable"},title:{speaker_management:"Group management"}},de:{placeholder:{tts:"Text zum Sprechen"},label:{leave:"Verlassen",ungroup:"Teilen",group_all:"Gruppieren",send:"Senden",master:"Master"},state:{idle:"Pause",unavailable:"Nicht verf\xFCgbar"},title:{speaker_management:"Wiedergabe auf"}},fr:{placeholder:{tts:"Texte \xE0 lire"},label:{leave:"Quitter",ungroup:"D\xE9grouper",group_all:"Grouper tous",send:"Envoyer"},state:{idle:"Inactif",unavailable:"Indisponible"},title:{speaker_management:"Gestion des groupes"}},hu:{placeholder:{tts:"Sz\xF6vegfelolvas\xE1s"},label:{leave:"Kil\xE9p\xE9s",ungroup:"\xD6sszes ki",group_all:"\xD6sszes be",send:"K\xFCld\xE9s",master:"Forr\xE1s"},state:{idle:"T\xE9tlen",unavailable:"Nem el\xE9rhet\u0151"},title:{speaker_management:"Hangsz\xF3r\xF3k csoportos\xEDt\xE1sa"}},no:{placeholder:{tts:"Tekst til tale"},label:{leave:"Forlat",ungroup:"Oppl\xF8s gruppe",group_all:"Grupper alle",send:"Send",master:"Master"},state:{idle:"Inaktiv",unavailable:"Utilgjengelig"},title:{speaker_management:"Gruppestyring"}},pl:{placeholder:{tts:"Zamie\u0144 tekst na mow\u0119"},label:{leave:"Opu\u015B\u0107",ungroup:"Usu\u0144 grup\u0119",group_all:"Grupuj wszystkie",send:"Wy\u015Blij"},state:{idle:"nieaktywny",unavailable:"niedost\u0119pny"},title:{speaker_management:"Zarz\u0105dzanie grup\u0105"}},uk:{placeholder:{tts:"\u0422\u0435\u043A\u0441\u0442 \u0434\u043B\u044F \u0432\u0456\u0434\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F"},label:{leave:"\u0417\u0430\u043B\u0438\u0448\u0438\u0442\u0438",ungroup:"\u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",group_all:"\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438 \u0432\u0441\u0456",send:"\u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438",master:"\u0413\u043E\u043B\u043E\u0432\u043D\u0438\u0439"},state:{idle:"\u0431\u0435\u0437\u0434\u0456\u044F\u043B\u044C\u043D\u0456\u0441\u0442\u044C",unavailable:"\u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0439"},title:{speaker_management:"\u0423\u043F\u0440\u0430\u0432\u043B\u0456\u043D\u043D\u044F \u0433\u0440\u0443\u043F\u043E\u044E"}},cz:{placeholder:{tts:"P\u0159eve\u010F text na \u0159e\u010D"},label:{leave:"Odej\xEDt",ungroup:"Zru\u0161it seskupen\xED",group_all:"Seskupit v\u0161e",send:"Poslat",master:"Master"},state:{idle:"Ne\u010Dinn\xFD",unavailable:"Nedostupn\xFD"},title:{speaker_management:"Spr\xE1va skupin"}},ru:{placeholder:{tts:"\u041F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u043A\u0441\u0442\u0430 \u0432 \u0440\u0435\u0447\u044C"},label:{leave:"\u041F\u043E\u043A\u0438\u043D\u0443\u0442\u044C",ungroup:"\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",group_all:"\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432\u0441\u0435",send:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",master:"\u041C\u0430\u0441\u0442\u0435\u0440"},state:{idle:"\u0411\u0435\u0437\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",unavailable:"\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D"},title:{speaker_management:"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u043E\u0439"}},es:{placeholder:{tts:"Texto a voz"},label:{leave:"Salir",ungroup:"Desagrupar",group_all:"Agrupar todos",send:"Enviar",master:"Maestro"},state:{idle:"Inactivo",unavailable:"No disponible"},title:{speaker_management:"Gesti\xF3n de grupo"}},zh:{placeholder:{tts:"\u64AD\u653E\u6587\u672C"},label:{leave:"\u9000\u51FA",ungroup:"\u53D6\u6D88\u7EC4\u5408",group_all:"\u7EC4\u5408\u5168\u90E8",send:"\u53D1\u9001",master:"\u4E3B\u8981\u7684"},state:{idle:"\u7A7A\u95F2",unavailable:"\u4E0D\u53EF\u7528"},title:{speaker_management:"\u7EC4\u5408\u7BA1\u7406"}}},Rc=(a,b)=>b.split(".").reduce((a,b)=>a&&a[b]||null,a),Sc=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"unknown",e=a.selectedLanguage||a.language;return Qc[e]&&Rc(Qc[e],b)||a.resources[e]&&a.resources[e][c]||Rc(Qc.en,b)||d};customElements.define("mmp-checkbox",class extends ec{static get properties(){return{checked:Boolean,disabled:Boolean,label:String}}render(){return Qb(Xa(),this.checked,this.disabled,this.disabled,this.label)}static get styles(){return cc(Wa())}}),customElements.define("mmp-group-item",class extends ec{static get properties(){return{hass:{},item:{},checked:Boolean,disabled:Boolean,master:Boolean}}render(){return Qb(Va(),this.checked,this.disabled,a=>a.stopPropagation(),this.handleClick,this.item.name,this.master?Qb(Ua(),Sc(this.hass,"label.master")):"")}handleClick(a){a.stopPropagation(),a.preventDefault(),this.disabled||this.dispatchEvent(new CustomEvent("change",{detail:{entity:this.item.entity_id,checked:!this.checked}}))}static get styles(){return cc(Ta())}}),customElements.define("mmp-button",class extends ec{render(){return Qb(Sa())}static get styles(){return cc(Ra())}}),customElements.define("mmp-group-list",class extends ec{static get properties(){return{hass:{},entities:{},player:{},visible:Boolean}}get group(){return this.player.group}get master(){return this.player.master}get isMaster(){return this.player.isMaster}get isGrouped(){return this.player.isGrouped}handleGroupChange(a){var{entity:b,checked:c}=a.detail;this.player.handleGroupChange(a,b,c)}render(){if(!this.visible)return Qb(Qa());var{group:a,isMaster:b,isGrouped:c}=this,{id:d}=this.player;return Qb(Pa(),Sc(this.hass,"title.speaker_management"),this.entities.map(a=>this.renderItem(a,d)),!c,a=>this.player.handleGroupChange(a,d,!1),Sc(this.hass,"label.leave"),c&&b?Qb(Oa(),b=>this.player.handleGroupChange(b,a,!1),Sc(this.hass,"label.ungroup")):Qb(Na()),!b,a=>this.player.handleGroupChange(a,this.entities.map(a=>a.entity_id),!0),Sc(this.hass,"label.group_all"))}renderItem(a,b){var c=a.entity_id;return Qb(Ma(),this.handleGroupChange,a,this.hass,c===b||this.group.includes(c),c===b||!this.isMaster,c===this.master)}static get styles(){return cc(La())}}),customElements.define("mmp-dropdown",class extends ec{static get properties(){return{items:[],label:String,selected:String}}get selectedId(){return this.items.map(a=>a.id).indexOf(this.selected)}onChange(a){var b=a.target.selected;b!==this.selectedId&&this.items[b]&&(this.dispatchEvent(new CustomEvent("change",{detail:this.items[b]})),a.target.selected=-1)}render(){return Qb(Ka(),"right","top",44,a=>a.stopPropagation(),this.icon?Qb(Ja(),nc,nc):Qb(Ia(),this.selected||this.label,nc),this.selectedId,this.onChange,this.items.map(a=>Qb(Ha(),a.id||a.name,a.icon?Qb(Ga(),a.icon):"",a.name?Qb(Fa(),a.name):"")))}static get styles(){return[Kc,cc(Ea())]}}),customElements.define("mmp-shortcuts",class extends ec{static get properties(){return{player:{},shortcuts:{}}}get buttons(){return this.shortcuts.buttons}get list(){return this.shortcuts.list}get show(){return!this.shortcuts.hide_when_off||this.player.active}get active(){return this.player.getAttribute(this.shortcuts.attribute)}get height(){return this.shortcuts.column_height||36}render(){if(!this.show)return Qb(Da());var{active:a}=this,b=this.list?Qb(Ca(),this.handleShortcut,this.list,this.shortcuts.label,a):"",c=this.buttons?Qb(Ba(),this.buttons.map(b=>Qb(Aa(),jc(this.shortcutStyle(b)),this.shortcuts.columns,b.id===a,a=>this.handleShortcut(a,b),this.shortcuts.align_text,b.icon?Qb(za(),b.icon):"",b.image?Qb(ya(),b.image):"",b.name?Qb(xa(),b.name):""))):"";return Qb(wa(),c,b)}handleShortcut(a,b){var{type:c,id:d,data:e}=b||a.detail;if("source"===c)return this.player.setSource(a,d);if("service"===c)return this.player.toggleService(a,d,e);if("script"===c)return this.player.toggleScript(a,d,e);if("sound_mode"===c)return this.player.setSoundMode(a,d);this.player.setMedia(a,{media_content_type:c,media_content_id:d})}shortcutStyle(a){return ab({"min-height":this.height+"px"},a.cover&&{"background-image":"url(".concat(a.cover,")")})}static get styles(){return[Kc,cc(va())]}}),customElements.define("mmp-tts",class extends ec{static get properties(){return{hass:{},config:{},player:{}}}get label(){return Sc(this.hass,"placeholder.tts","ui.card.media_player.text_to_speak","Say")}get input(){return this.shadowRoot.getElementById("tts-input")}get message(){return this.input.value}render(){return Qb(ua(),this.label,a=>a.stopPropagation(),this.handleTts,Sc(this.hass,"label.send"))}handleTts(a){var{config:b,message:c}=this,d=ab(ab({message:c,entity_id:b.entity_id||this.player.id},"group"===b.entity_id&&{entity_id:this.player.group}),b.data);switch(b.language&&(d.language=b.language),b.platform){case"alexa":this.hass.callService("notify","alexa_media",{message:c,data:ab({type:b.type||"tts"},b.data),target:d.entity_id});break;case"sonos":this.hass.callService("script","sonos_say",ab({sonos_entity:d.entity_id,volume:b.volume||.5,message:c},b.data));break;case"webos":this.hass.callService("notify",d.entity_id.split(".").slice(-1)[0],ab({message:c},b.data));break;case"ga":this.hass.callService("notify","ga_broadcast",ab({message:c},b.data));break;case"service":{var[f,g]=(b.data.service||"").split("."),e=ab(ab({[b.data.message_field||"message"]:c,entity_id:d.entity_id},b.language?{language:d.language}:{}),b.data.service_data||{});this.hass.callService(f,g,e);break}default:this.hass.callService("tts",b.platform+"_say",d);}a.stopPropagation(),this.reset()}reset(){this.input.value=""}static get styles(){return cc(ta())}});var Tc=a=>{var b=cb(parseInt(a%60,10)),c=cb(parseInt(a/60%60,10)),d=cb(parseInt(a/3600%24,10));return d=10>d?"0"+d:d,c=10>c?"0"+c:c,b=10>b?"0"+b:b,"".concat("00"===d?"":d+":").concat(c,":").concat(b)};customElements.define("mmp-progress",class extends ec{static get properties(){return{_player:{},showTime:Boolean,showRemainingTime:Boolean,progress:Number,duration:Number,tracker:{},seekProgress:Number,seekWidth:Number,track:Boolean}}set player(a){this._player=a,this.hasProgress&&this.trackProgress()}get duration(){return this.player.mediaDuration}get player(){return this._player}get hasProgress(){return this.player.hasProgress}get width(){return this.shadowRoot.querySelector(".mmp-progress").offsetWidth}get offset(){return this.getBoundingClientRect().left}get classes(){return hc({transiting:!this.seekProgress,seeking:this.seekProgress})}render(){return Qb(sa(),this.initSeek,this.handleSeek,this.initSeek,this.handleSeek,this.resetSeek,a=>a.stopPropagation(),!this.player.isPlaying,this.showTime?Qb(ra(),Tc(this.seekProgress||this.progress),this.showTime?Qb(qa(),Tc(this.duration-(this.seekProgress||this.progress))):"",Tc(this.duration)):"",this.classes,this.seekProgress||this.progress,this.duration)}trackProgress(){this.progress=this.player.progress,this.tracker||(this.tracker=setInterval(()=>this.trackProgress(),1e3)),this.player.isPlaying||(clearInterval(this.tracker),this.tracker=null)}initSeek(a){var b=a.offsetX||a.touches[0].pageX-this.offset;this.seekWidth=this.width,this.seekProgress=this.calcProgress(b),this.addEventListener("touchmove",this.moveSeek),this.addEventListener("mousemove",this.moveSeek)}resetSeek(){this.seekProgress=null,this.removeEventListener("touchmove",this.moveSeek),this.removeEventListener("mousemove",this.moveSeek)}moveSeek(a){a.preventDefault();var b=a.offsetX||a.touches[0].pageX-this.offset;this.seekProgress=this.calcProgress(b)}handleSeek(a){this.resetSeek();var b=a.offsetX||a.changedTouches[0].pageX-this.offset,c=this.calcProgress(b);this.player.seek(a,c)}disconnectedCallback(){super.disconnectedCallback(),this.resetSeek(),clearInterval(this.tracker),this.tracker=null}connectedCallback(){super.connectedCallback(),this.hasProgress&&this.trackProgress()}calcProgress(a){var b=a/this.seekWidth*this.duration;return _a(bb(b,.1),this.duration)}static get styles(){return cc(pa())}}),customElements.define("mmp-source-menu",class extends ec{static get properties(){return{player:{},icon:Boolean}}get source(){return this.player.source}get sources(){return this.player.sources.map(a=>({name:a,id:a,type:"source"}))}render(){return Qb(oa(),this.handleSource,this.sources,this.source,this.source,this.icon)}handleSource(a){var{id:b}=a.detail;this.player.setSource(a,b)}static get styles(){return cc(na())}}),customElements.define("mmp-sound-menu",class extends ec{static get properties(){return{player:{},selected:String,icon:Boolean}}get mode(){return this.player.soundMode}get modes(){return this.player.soundModes.map(a=>({name:a,id:a,type:"soundMode"}))}render(){return Qb(ma(),this.handleChange,this.modes,this.mode,this.selected||this.mode,this.icon)}handleChange(a){var{id:b}=a.detail;this.player.setSoundMode(a,b),this.selected=b}static get styles(){return cc(la())}}),customElements.define("mmp-media-controls",class extends ec{static get properties(){return{player:{},config:{},break:Boolean}}get showShuffle(){return!this.config.hide.shuffle&&this.player.supportsShuffle}get showRepeat(){return!this.config.hide.repeat&&this.player.supportsRepeat}get maxVol(){return this.config.max_volume||100}get minVol(){return this.config.min_volume||0}get vol(){return $a(100*this.player.vol)}get jumpAmount(){return this.config.jump_amount||10}render(){var{hide:a}=this.config;return Qb(ka(),a.volume?Qb(ja()):this.renderVolControls(this.player.muted),this.renderShuffleButton(),this.renderRepeatButton(),a.controls?Qb(ia()):Qb(ha(),this.config.flow||this.break,!a.prev&&this.player.supportsPrev?Qb(ga(),a=>this.player.prev(a),sc,sc):"",this.renderJumpBackwardButton(),this.renderPlayButtons(),this.renderJumpForwardButton(),!a.next&&this.player.supportsNext?Qb(fa(),a=>this.player.next(a),pc,pc):""))}renderShuffleButton(){return this.showShuffle?Qb(ea(),a=>this.player.toggleShuffle(a),tc,this.player.shuffle,tc):Qb(da())}renderRepeatButton(){if(!this.showRepeat)return Qb(ca());var a=[mc.ONE,mc.ALL].includes(this.player.repeat);return Qb(ba(),a=>this.player.toggleRepeat(a),uc[this.player.repeat],a,uc[this.player.repeat])}renderVolControls(a){var b=this.config.volume_stateless?this.renderVolButtons(a):this.renderVolSlider(a),c=hc({"--buttons":this.config.volume_stateless,"mmp-media-controls__volume":!0,flex:!0}),d=!this.config.hide.volume_level;return Qb(aa(),c,b,d?this.renderVolLevel():"")}renderVolSlider(a){return Qb(_(),this.renderMuteButton(a),this.handleVolumeChange,a=>a.stopPropagation(),a,this.minVol,this.maxVol,100*this.player.vol,this.config.volume_step||1,"ltr")}renderVolButtons(a){return Qb($(),this.renderMuteButton(a),a=>this.player.volumeDown(a),wc,wc,a=>this.player.volumeUp(a),xc,xc)}renderVolLevel(){return Qb(Z(),this.vol)}renderMuteButton(a){if(!this.config.hide.mute)switch(this.config.replace_mute){case"play":case"play_pause":return Qb(Y(),a=>this.player.playPause(a),qc[this.player.isPlaying],qc[this.player.isPlaying]);case"stop":return Qb(X(),a=>this.player.stop(a),vc.true,vc.true);case"play_stop":return Qb(W(),a=>this.player.playStop(a),vc[this.player.isPlaying],vc[this.player.isPlaying]);case"next":return Qb(V(),a=>this.player.next(a),pc,pc);default:return this.player.supportsMute?Qb(U(),a=>this.player.toggleMute(a),oc[a],oc[a]):void 0;}}renderPlayButtons(){var{hide:a}=this.config;return Qb(T(),a.play_pause?Qb(S()):Qb(R(),a=>this.player.playPause(a),qc[this.player.isPlaying],qc[this.player.isPlaying]),a.play_stop?Qb(Q()):Qb(P(),a=>this.handleStop(a),a.play_pause?vc[this.player.isPlaying]:vc.true,a.play_pause?vc[this.player.isPlaying]:vc.true))}renderJumpForwardButton(){return this.config.hide.jump||!this.player.hasProgress?Qb(O()):Qb(N(),a=>this.player.jump(a,this.jumpAmount),yc,yc)}renderJumpBackwardButton(){return this.config.hide.jump||!this.player.hasProgress?Qb(M()):Qb(L(),a=>this.player.jump(a,-this.jumpAmount),zc,zc)}handleStop(a){return this.config.hide.play_pause?this.player.playStop(a):this.player.stop(a)}handleVolumeChange(a){var b=parseFloat(a.target.value)/100;this.player.setVolume(a,b)}static get styles(){return[Kc,cc(K())]}}),customElements.define("mmp-powerstrip",class extends ec{static get properties(){return{hass:{},player:{},config:{},groupVisible:Boolean,idle:Boolean}}get icon(){return this.config.speaker_group.icon||"mdi:speaker-multiple"}get showGroupButton(){return this.config.speaker_group.entities}get showPowerButton(){return!this.config.hide.power}get powerColor(){return this.player.active&&!this.config.hide.power_state}get sourceSize(){return"icon"===this.config.source||this.hasControls||this.idle}get soundSize(){return"icon"===this.config.sound_mode||this.hasControls||this.idle}get hasControls(){return this.player.active&&this.config.hide.controls!==this.config.hide.volume}get hasSource(){return 0<this.player.sources.length&&!this.config.hide.source}get hasSoundMode(){return 0<this.player.soundModes.length&&!this.config.hide.sound_mode}get showLabel(){return!this.config.hide.state_label}render(){return this.player.isUnavailable&&this.showLabel?Qb(J(),Sc(this.hass,"state.unavailable","state.default.unavailable")):Qb(I(),this.idle?this.renderIdleView:"",this.hasControls?Qb(H(),this.player,this.config):"",this.hasSource?Qb(G(),this.player,this.sourceSize,"full"===this.config.source):"",this.hasSoundMode?Qb(F(),this.player,this.soundSize,"full"===this.config.sound_mode):"",this.showGroupButton?Qb(E(),this.icon,!this.player.isGrouped,this.groupVisible,this.handleGroupClick,this.icon):"",this.showPowerButton?Qb(C(),rc,a=>this.player.toggle(a),this.powerColor,rc):"")}handleGroupClick(a){a.stopPropagation(),this.dispatchEvent(new CustomEvent("toggleGroupList"))}get renderIdleView(){return this.player.isPaused?Qb(B(),qc[this.player.isPlaying],a=>this.player.playPause(a),qc[this.player.isPlaying]):this.showLabel?Qb(A(),Sc(this.hass,"state.idle","state.media_player.idle")):Qb(z())}static get styles(){return[Kc,cc(y())]}});var Uc=["cover","full-cover","material","cover-fit","none"],Vc=["icon","full"],Wc=["icon","full"],Xc=["short","scroll"],Yc=["play_pause","stop","play_stop","next"];customElements.define("mini-media-player-editor",class extends ec{static get styles(){return Jc}static get properties(){return{hass:{},_config:{}}}setConfig(a){this._config=Object.assign({},Gc,a)}get getMediaPlayerEntities(){return Object.keys(this.hass.states).filter(a=>"media_player"===a.substr(0,a.indexOf(".")))}get _group(){return this._config.group||!1}get _volume_stateless(){return this._config.volume_stateless||!1}get _toggle_power(){return this._config.toggle_power||!0}render(){return this.hass?Qb(x(),"entity",this.valueChanged,this.getMediaPlayerEntities.indexOf(this._config.entity),this.getMediaPlayerEntities.map(a=>Qb(w(),a)),this._config.name,"name",this.valueChanged,this._config.icon,"icon",this.valueChanged,this._group,"group",this.valueChanged,this._volume_stateless,"volume_stateless",this.valueChanged,this._toggle_power,"toggle_power",this.valueChanged,"artwork",this.valueChanged,Object.values(Uc).indexOf(this._config.artwork),Object.values(Uc).map(a=>Qb(v(),a)),"source",this.valueChanged,Object.values(Vc).indexOf(this._config.source),Object.values(Vc).map(a=>Qb(u(),a)),"sound_mode",this.valueChanged,Object.values(Wc).indexOf(this._config.sound_mode),Object.values(Wc).map(a=>Qb(s(),a)),"info",this.valueChanged,Object.values(Xc).indexOf(this._config.info),Object.values(Xc).map(a=>Qb(r(),a)),"replace_mute",this.valueChanged,Object.values(Yc).indexOf(this._config.replace_mute),Object.values(Yc).map(a=>Qb(q(),a)),this._config.volume_step,"volume_step",this.valueChanged,this._config.max_volume,"max_volume",this.valueChanged,this._config.min_volume,"min_volume",this.valueChanged,this._config.background,"background",this.valueChanged,this._config.scale,"scale",this.valueChanged):Qb(p())}valueChanged(a){if(this._config&&this.hass){var{target:b}=a;this["_"+b.configValue]!==b.value&&(b.configValue&&(""===b.value?delete this._config[b.configValue]:this._config=ab(ab({},this._config),{},{[b.configValue]:void 0===b.checked?b.value:b.checked})),function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},e=new Event(b,{bubbles:void 0===d.bubbles||d.bubbles,cancelable:!!d.cancelable,composed:void 0===d.composed||d.composed});e.detail=c,a.dispatchEvent(e)}(this,"config-changed",{config:this._config}))}}}),customElements.define("mini-media-player",class extends ec{constructor(){super(),this._overflow=!1,this.initial=!0,this.picture=!1,this.thumbnail="",this.prevThumbnail="",this.edit=!1,this.rtl=!1,this.cardHeight=0,this.foregroundColor="",this.backgroundColor=""}static get properties(){return{_hass:{},config:{},entity:{},player:{},groupMgmtEntity:{},groupMgmtPlayer:Ic,_overflow:Boolean,break:Boolean,initial:Boolean,picture:String,thumbnail:String,prevThumbnail:String,edit:Boolean,rtl:Boolean,idle:Boolean,cardHeight:Number,foregroundColor:String,backgroundColor:String}}static get styles(){return[Kc,Jc]}set hass(a){if(a){var b=a.states[this.config.entity];if(this._hass=a,b&&this.entity!==b&&(this.entity=b,this.player=new Ic(a,this.config,b),this.rtl=this.computeRTL(a),this.idle=this.player.idle,this.player.trackIdle&&this.updateIdleStatus()),this.config&&this.config.speaker_group&&this.config.speaker_group.group_mgmt_entity){var c=a.states[this.config.speaker_group.group_mgmt_entity];c&&this.groupMgmtPlayer!==c&&(this.groupMgmtEntity=c,this.groupMgmtPlayer=new Ic(a,this.config,c))}}}get hass(){return this._hass}set overflow(a){this._overflow!==a&&(this._overflow=a)}get overflow(){return this._overflow}get name(){return this.config.name||this.player.name}static getConfigElement(){return window.document.createElement("mini-media-player-editor")}setConfig(a){this.config=Gc(a)}shouldUpdate(a){return void 0===this.break&&this.computeRect(this),a.has("prevThumbnail")&&this.prevThumbnail&&setTimeout(()=>{this.prevThumbnail=""},1e3),a.has("player")&&"material"===this.config.artwork&&this.setColors(),Ac.some(b=>a.has(b))&&this.player}firstUpdated(){new kc.a(a=>{a.forEach(a=>{window.requestAnimationFrame(()=>{"scroll"===this.config.info&&this.computeOverflow(),this._resizeTimer||(this.computeRect(a),this._resizeTimer=setTimeout(()=>{this._resizeTimer=null,this.computeRect(this._resizeEntry),this.measureCard()},250)),this._resizeEntry=a})})}).observe(this),setTimeout(()=>this.initial=!1,250),this.edit=this.config.speaker_group.expanded||!1}updated(){"scroll"===this.config.info&&setTimeout(()=>{this.computeOverflow()},10)}render(){var{config:a}=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this;return this.computeArtwork(),Qb(o(),this.computeClasses(),this.computeStyles(),a=>this.handlePopup(a),a.artwork,this.player.content,this.renderBackground(),this.renderArtwork(),this.renderGradient(),this.player.idle,this.renderIcon(),this.renderEntityName(),this.renderMediaInfo(),this.toggleGroupList,this.hass,this.player,a,this.edit,this.idle,a.flow,!a.collapse&&this.player.active?Qb(n(),this.player,a,this.break):"",this.player,a.shortcuts,a.tts?Qb(m(),a.tts,this.hass,this.player):"",this.hass,this.edit,a.speaker_group.entities,this.groupMgmtPlayer?this.groupMgmtPlayer:this.player,this.player.active&&this.player.hasProgress?Qb(l(),this.player,!this.config.hide.runtime,!this.config.hide.runtime_remaining):"")}computeClasses(){var{config:a}=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this;return hc({"--responsive":this.break||a.hide.icon,"--initial":this.initial,"--bg":a.background,"--group":a.group,"--more-info":"none"!==a.tap_action,"--has-artwork":this.player.hasArtwork&&this.thumbnail,"--flow":a.flow,"--collapse":a.collapse,"--rtl":this.rtl,"--progress":this.player.hasProgress,"--runtime":!a.hide.runtime&&this.player.hasProgress,"--inactive":!this.player.isActive})}renderArtwork(){if(this.thumbnail&&"default"!==this.config.artwork){var a={backgroundImage:this.thumbnail,backgroundColor:this.backgroundColor||"",width:"material"===this.config.artwork&&this.player.isActive?this.cardHeight+"px":"100%"},b={backgroundImage:this.prevThumbnail,width:"material"===this.config.artwork?this.cardHeight+"px":""};return Qb(k(),jc(a),this.prevThumbnail&&Qb(j(),jc(b)))}}renderGradient(){if("material"===this.config.artwork){var a={backgroundImage:"linear-gradient(to left,\n        transparent 0,\n        ".concat(this.backgroundColor," ").concat(this.cardHeight,"px,\n        ").concat(this.backgroundColor," 100%)")};return Qb(i(),jc(a))}}renderBackground(){if(this.config.background)return Qb(h(),jc({backgroundImage:"url(".concat(this.config.background,")")}))}handlePopup(a){a.stopPropagation(),Lc(this,this._hass,this.config,this.config.tap_action,this.player.id)}renderIcon(){if(!this.config.hide.icon){if(this.player.active&&this.thumbnail&&"default"===this.config.artwork)return Qb(g(),this.thumbnail,!this.config.hide.artwork_border,this.player.state);var a=!this.config.hide.icon_state&&this.player.isActive;return Qb(f(),a,this.computeIcon())}}renderEntityName(){if(!this.config.hide.name)return Qb(e(),this.name,this.speakerCount())}renderMediaInfo(){if(!this.config.hide.info){var e=this.player.mediaInfo;return Qb(d(),"short"===this.config.info||!this.player.active,"scroll"===this.config.info,this.overflow,this.overflow,"scroll"===this.config.info?Qb(c(),e.map(a=>Qb(b(),"attr__"+a.attr,a.prefix+a.text))):"",e.map(b=>Qb(a(),"attr__"+b.attr,b.prefix+b.text)))}}speakerCount(){if(this.config.speaker_group.show_group_count){var a=this.groupMgmtPlayer?this.groupMgmtPlayer.groupCount:this.player.groupCount;return 1<a?" +"+(a-1):""}}computeStyles(){var{scale:a}=this.config;return jc(ab(ab({},a&&{"--mmp-unit":40*a+"px"}),this.foregroundColor&&this.player.isActive&&{"--mmp-text-color":this.foregroundColor,"--mmp-icon-color":this.foregroundColor,"--mmp-icon-active-color":this.foregroundColor,"--mmp-accent-color":this.foregroundColor,"--paper-slider-container-color":this.foregroundColor,"--secondary-text-color":this.foregroundColor,"--mmp-media-cover-info-color":this.foregroundColor}))}computeArtwork(){var a=this;return db(function*(){var{picture:b,hasArtwork:c}=a.player;if(c&&b!==a.picture){a.picture=b;var d=yield a.player.fetchArtwork();a.thumbnail&&(a.prevThumbnail=a.thumbnail),a.thumbnail=d||"url(".concat(b,")")}})()}computeIcon(){return this.config.icon?this.config.icon:this.player.icon||"mdi:cast"}measureCard(){var a=this.shadowRoot.querySelector("ha-card");a&&(this.cardHeight=a.offsetHeight)}computeOverflow(){var a=this.shadowRoot.querySelector(".marquee");if(a){var b=a.clientWidth>a.parentNode.clientWidth;this.overflow=b&&this.player.active&&7.5+a.clientWidth/50}}computeRect(a){var{left:b,width:c}=a.contentRect||a.getBoundingClientRect();this.break=390>c+2*b}computeRTL(a){var b=a.language||"en";return a.translationMetadata.translations[b]&&a.translationMetadata.translations[b].isRTL||!1}toggleGroupList(){this.edit=!this.edit}updateIdleStatus(){this._idleTracker&&clearTimeout(this._idleTracker);var a=(Date.now()-new Date(this.player.updatedAt).getTime())/1e3;this._idleTracker=setTimeout(()=>{this.idle=this.player.checkIdleAfter(this.config.idle_view.after),this.player.idle=this.idle,this._idleTracker=null},1e3*(60*this.config.idle_view.after-a))}getCardSize(){return this.config.collapse?1:2}setColors(){var a=this;return db(function*(){if(a.player.picture!==a.picture){if(!a.player.picture)return a.foregroundColor="",void(a.backgroundColor="");try{[a.foregroundColor,a.backgroundColor]=yield(b=a.player.picture,new Mc(b,{colorCount:16,generator:Pc}).getPalette())}catch(b){console.error("Error getting Image Colors",b),a.foregroundColor="",a.backgroundColor=""}var b}})()}}),window.customCards=window.customCards||[],window.customCards.push({type:"mini-media-player",name:"Mini Media Player",preview:!1,description:"A minimalistic yet customizable media player card"})}])})})();
