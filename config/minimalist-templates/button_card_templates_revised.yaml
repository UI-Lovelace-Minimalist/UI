### CHIPS ###
chips:
  tap_action:
    action: more-info
  show_icon: false
  show_name: false
  show_state: false
  show_label: true
  size: 80%
  styles:
    img_cell:
      - width: 24px
    card:
      - border-radius: 18px
      - box-shadow: var(--box-shadow)
      - height: 36px
      - width: auto
      - padding-left: 6px
      - padding-right: 6px
    grid:
      - grid-template-areas: '"l"'
    label:
      - justify-self: center
      - padding: 0px 6px
      - font-weight: bold
      - font-size: 14px

chips_temperature:
  template: chips
  triggers_update: 
    - [[[ variables.ulm_chip_temperature_weather ]]]
    - [[[ variables.ulm_chip_temperature_outside ]]]
    - [[[ variables.ulm_chip_temperature_inside ]]]
  label: |
    [[[
      var icon = 'ğŸŒ¡ï¸';
      if (states[variables.ulm_chip_temperature_weather].state == 'clear-night'){
        var icon = 'ğŸŒ™';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'cloudy'){
        var icon = 'â˜ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'exceptional'){
        var icon = 'ğŸŒ';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'fog'){
        var icon = 'ğŸŒ«ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'hail'){
        var icon = 'â›ˆï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'lightning'){
        var icon = 'âš¡';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'lightning-rainy'){
        var icon = 'â›ˆï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'partlycloudy'){
        var icon = 'â›…';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'pouring'){
        var icon = 'ğŸŒ§ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'rainy'){
        var icon = 'ğŸ’§';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'snowy'){
        var icon = 'â„ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'snowy-rainy'){
        var icon = 'ğŸŒ¨ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'sunny'){
        var icon = 'â˜€ï¸';
      } else if(states[variables.ulm_chip_temperature_weather].state == 'windy'){
        var icon = 'ğŸŒªï¸';
      }
      return icon + ' ' + states[variables.ulm_chip_temperature_outside].state + 'Â° / ' + states[variables.ulm_chip_temperature_inside].state + 'Â°' ;
    ]]]

chips_icon_only:
  template: chips
  show_icon: true
  variables:
    icon: 'â”'
  icon: "[[[ return variables.ulm_chip_icon_state_icon ? variables.ulm_chip_icon_state_icon : variables.icon ]]]"
  styles:
    grid:
      - grid-template-areas: '"i"'

chips_icon_state:
  template: chips
  show_icon: true
  show_label: true
  variables:
    icon: "â”"
  icon: "[[[ return variables.ulm_chip_icon_state_icon ? variables.ulm_chip_icon_state_icon : variables.icon ]]]"
  label: "[[[ return variables.ulm_chip_icon_state_label ? states[variables.ulm_chip_icon_state_label].state : '' ]]]"
  styles:
    grid:
      - grid-template-areas: '"i l"'
    label:
      - justify-self: center
      - padding: 0px 6px
      - font-weight: bold
      - font-size: 14px

chips_icon_double_state:
  template: chips
  show_icon: true
  show_label: true
  variables:
    icon: "â”"
  icon: "[[[ return variables.ulm_chip_icon_double_state_icon ? variables.ulm_chip_icon_double_state_icon : variables.icon ]]]"
  label: "[[[ return variables.ulm_chip_icon_double_state_label_1 ? states[variables.ulm_chip_icon_double_state_label_1].state + states[variables.ulm_chip_icon_double_state_label_2].state : '' ]]]"
  styles:
    grid:
      - grid-template-areas: '"i l"'
    label:
      - justify-self: center
      - padding: 0px 6px
      - font-weight: bold
      - font-size: 14px
      
chips_back:
  template: chips
  show_icon: true
  icon: 'mdi:arrow-left'
  styles:
    grid:
      - grid-template-areas: '"i"'
  tap_action:
    action: navigate
    navigation_path: /lovelace

chips_presence_detection:
  template: chips
  label: |
    [[[
      var guests = states[variables.ulm_chip_presence_counter_guests].state ? ' / ' + states[variables.ulm_chip_presence_counter_guests].state : '';
      return 'ğŸ  ' +  states[variables.ulm_chip_presence_counter_residents].state + guests;
    ]]]

chips_power_consumption:
  template: chips
  label: |
    [[[
      var amount = variables.ulm_chip_electric_price != '' ? true : false

      if (amount){
        return 'âš¡ ' +  states[variables.ulm_chip_electric_price].state + variables.ulm_chip_electric_currency;
      } else {
        return 'âš¡ ' +  states[variables.ulm_chip_electric_consumption].state;
      }
    ]]]

### Legacy templates ###
chips_icon:
  template: chips_icon_state
chips_return:
  template: chips_back
chips_localisation_present:
  template: chips_presence_detection
